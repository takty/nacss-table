window.NACSS=window.NACSS||{},function(t){const e="fixed-table-header-container",n="fixed-table-header-table",o="fixed-table-scroll-bar";function l(t){const l=function(t){let o=t.tHead;if(!o){if(o=function(t){const e=t.tBodies[0].rows;if(0===e.length)return null;function n(t){const e=t.getElementsByTagName("td"),n=t.getElementsByTagName("th");return 0===e.length&&n.length>0}const o=[];for(let t=0,l=e.length;t<l;t+=1){const l=e[t];if(!n(l))break;o.push(l)}if(0===o.length)return null;const l=t.createTHead();for(let t=0;t<o.length;t+=1)l.appendChild(o[t]);return l}(t),!o)return null;t.tHead=o}const l=document.createElement("div");l.dataset.stile+=" "+e,t.parentNode.appendChild(l);const i=document.createElement("div");i.dataset.stile+=" "+n,l.appendChild(i);const d=o.cloneNode(!0);return i.appendChild(d),l}(t),i=function(t){const e=document.createElement("div");e.dataset.stile+=" "+o;const n=document.createElement("div");return e.appendChild(n),t.parentNode.appendChild(e),e}(t);return{tab:t,head:l,bar:i}}function i(t,e,n){!function(t,e,n){let o=!1;const l=(n,l)=>c((()=>{o?o=!1:(o=!0,l.scrollLeft=n.scrollLeft,s(t,e))}));t.addEventListener("scroll",l(t,n)),n.addEventListener("scroll",l(n,t))}(t,e,n),new ResizeObserver((o=>{!function(t,e,n,o){e.style.overflowX=e.scrollWidth<e.clientWidth+2?"hidden":"",n&&function(t,e,n){const o=t?t.width:e.getBoundingClientRect().width;n.style.maxWidth=o+"px",n.style.display="none",n.style.top="0px";const l=e.tHead,i=l.getBoundingClientRect().width,d=n.firstChild;d.style.width=i+"px";const s=d.firstChild,c=l.rows,r=s.rows;for(let t=0;t<c.length;t+=1)a(c[t],r[t],"td"),a(c[t],r[t],"th");function a(t,e,n){const o=t.getElementsByTagName(n),l=e.getElementsByTagName(n);for(let t=0;t<o.length;t+=1)l[t].style.width=o[t].getBoundingClientRect().width+"px"}}(t,e,n);o&&function(t,e){e.style.maxWidth=`${t.clientWidth}px`,e.style.display="none";const n=parseInt(function(){const t=document.createElement("div");t.setAttribute("style","position:absolute;bottom:100%;width:calc(100vw - 100%);height:1px;"),document.body.appendChild(t);let e=0|window.getComputedStyle(t).getPropertyValue("width");if(0===e){t.style.overflowY="scroll",t.style.width="";const n=document.createElement("div");n.style.minHeight="100px",t.appendChild(n);const o=0|window.getComputedStyle(n).getPropertyValue("width");e=t.offsetWidth-o}return document.body.removeChild(t),e}());0<n&&(e.style.height=n+2+"px");e.firstChild.style.width=`${t.scrollWidth}px`}(e,o);(n||o)&&d(e,n,o);s(e,n)}(o[0].contentRect,t,e,n)})).observe(t)}function d(t,e,n){const o=t.getBoundingClientRect(),l=o.bottom,i=t.tHead.getBoundingClientRect(),d=i.top,s=i.bottom,c=t.tHead.offsetHeight,r=l-d<.9*(window.innerHeight-0);let a=!1;r||l-c<0||d<0&&(a=!0);let h=!1;r||window.innerHeight<s||l<window.innerHeight||t.scrollWidth-t.clientWidth>2&&(h=!0),e&&function(t,e,n,o){n?(e.style.top="0px",e.style.display="block"):e.style.display="none";e.style.left=o+"px",e.scrollLeft=t.scrollLeft}(t,e,a,o.left),n&&function(t,e,n,o){e.style.display=n?"block":"none",e.style.left=o+"px",e.scrollLeft=t.scrollLeft}(t,n,h,o.left)}function s(t,e){const n=Math.max(0,Math.min(t.scrollLeft,t.scrollWidth-t.offsetWidth));e&&(e.scrollLeft=n)}function c(t){let e;return(...n)=>{e||(e=!0,requestAnimationFrame((()=>{e=!1,t(...n)})))}}t.tableUsableView=function(t){const e=[];for(const n of t){const t=l(n);setTimeout((()=>{i(t.tab,t.head,t.bar)}),10),e.push(t)}window.addEventListener("scroll",c((()=>{for(const t of e)d(t.tab,t.head,t.bar)})),{passive:!0})}}(window.NACSS);
//# sourceMappingURL=table-usable-view.min.js.map
