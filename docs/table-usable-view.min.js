window.NACSS=window.NACSS||{},function(t){const e="fixed-table-header-container",n="fixed-table-header-table",l="fixed-table-scroll-bar";function o(t){const o=function(t){let l=t.tHead;if(!l){if(l=function(t){const e=t.tBodies[0].rows;if(0===e.length)return null;function n(t){const e=t.getElementsByTagName("td"),n=t.getElementsByTagName("th");return 0===e.length&&n.length>0}const l=[];for(let t=0,o=e.length;t<o;t+=1){const o=e[t];if(!n(o))break;l.push(o)}if(0===l.length)return null;const o=t.createTHead();for(let t=0;t<l.length;t+=1)o.appendChild(l[t]);return o}(t),!l)return null;t.tHead=l}const o=document.createElement("div");o.dataset.stile+=" "+e,t.parentNode.appendChild(o);const i=document.createElement("div");i.dataset.stile+=" "+n,o.appendChild(i);const d=l.cloneNode(!0);return i.appendChild(d),o}(t),i=function(t){const e=document.createElement("div");e.dataset.stile+=" "+l;const n=document.createElement("div");return e.appendChild(n),t.parentNode.appendChild(e),e}(t),d=t.getElementsByTagName("caption");return{tab:t,head:o,bar:i,cap:d.length?d[0]:null}}function i(t,e,n,l){!function(t,e,n){let l=!1;const o=(n,o)=>c((()=>{l?l=!1:(l=!0,o.scrollLeft=n.scrollLeft,s(t,e))}));t.addEventListener("scroll",o(t,n)),n.addEventListener("scroll",o(n,t))}(t,e,n),new ResizeObserver((o=>{!function(t,e,n,l,o){e.style.overflowX=e.scrollWidth<e.clientWidth+2?"hidden":"",n&&function(t,e,n){const l=t?t.width:e.getBoundingClientRect().width;n.style.maxWidth=l+"px",n.style.display="none",n.style.top="0px";const o=e.tHead,i=o.getBoundingClientRect().width,d=n.firstChild;d.style.width=i+"px";const s=d.firstChild,c=o.rows,r=s.rows;for(let t=0;t<c.length;t+=1)a(c[t],r[t],"td"),a(c[t],r[t],"th");function a(t,e,n){const l=t.getElementsByTagName(n),o=e.getElementsByTagName(n);for(let t=0;t<l.length;t+=1)o[t].style.width=l[t].getBoundingClientRect().width+"px"}}(t,e,n);l&&function(t,e){e.style.maxWidth=`${t.clientWidth}px`,e.style.display="none";const n=parseInt(function(){const t=document.createElement("div");t.setAttribute("style","position:absolute;bottom:100%;width:calc(100vw - 100%);height:1px;"),document.body.appendChild(t);let e=0|window.getComputedStyle(t).getPropertyValue("width");if(0===e){t.style.overflowY="scroll",t.style.width="";const n=document.createElement("div");n.style.minHeight="100px",t.appendChild(n);const l=0|window.getComputedStyle(n).getPropertyValue("width");e=t.offsetWidth-l}return document.body.removeChild(t),e}());0<n&&(e.style.height=n+2+"px");e.firstChild.style.width=`${t.scrollWidth}px`}(e,l);(n||l)&&d(e,n,l,o);s(e,n)}(o[0].contentRect,t,e,n,l)})).observe(t)}function d(t,e,n,l){const o=t.getBoundingClientRect(),i=o.top,d=o.bottom,s=l?l.offsetHeight:0,c=t.tHead.offsetHeight,r=d-i-s<.9*(window.innerHeight-0);let a=!1;r||0<i+s||d-c<0||i+s<0&&(a=!0);let h=!1;r||window.innerHeight<i+s+c||d<window.innerHeight||t.scrollWidth-t.clientWidth>2&&(h=!0),e&&function(t,e,n,l){n?(e.style.top="0px",e.style.display="block"):e.style.display="none";e.style.left=l+"px",e.scrollLeft=t.scrollLeft}(t,e,a,o.left),n&&function(t,e,n,l){e.style.display=n?"block":"none",e.style.left=l+"px",e.scrollLeft=t.scrollLeft}(t,n,h,o.left)}function s(t,e){const n=Math.max(0,Math.min(t.scrollLeft,t.scrollWidth-t.offsetWidth));e&&(e.scrollLeft=n)}function c(t){let e;return(...n)=>{e||(e=!0,requestAnimationFrame((()=>{e=!1,t(...n)})))}}t.tableUsableView=function(t){const e=[];for(const n of t){const t=o(n);setTimeout((()=>{i(t.tab,t.head,t.bar,t.cap)}),10),e.push(t)}window.addEventListener("scroll",c((()=>{for(const t of e)d(t.tab,t.head,t.bar,t.cap)})),{passive:!0})}}(window.NACSS);
//# sourceMappingURL=table-usable-view.min.js.map
