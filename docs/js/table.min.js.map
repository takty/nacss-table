{"version":3,"sources":["table.js"],"names":["window","NS","setClass","tar","cls","enabled","val","key","substr","startsWith","dataset","c","join","classList","add","remove","throttle","fn","isRunning","args","requestAnimationFrame","makeDummyCell","t","tagName","d","document","createElement","setAttribute","appendChild","removeDummyCell","lt","cMat","removeChild","dcTd","dcTh","isTarget","tab","cMet","rows","length","maxRowSize","cellMinWidth","cellMinAspect","tr","hasChildNodes","n","childNodes","tn","parseInt","getAttribute","cw","clientWidth","ch","clientHeight","onScroll","scrollWidth","r","scrollLeft","styleScrollRight","styleScrollLeft","apply","removeAttribute","style","width","height","grid","css","cs","push","collectCells","maxWidth","Math","max","g","Array","y","gr","tds","i","x","td","col","row","p","q","nr","makeCellGrid","met","Object","assign","origTabW","origCellWs","HTMLTableCellElement","getMetrics","newWs","gc","whiteSpace","gw","fill","fixWs","minW","calcMinWidth","wNew","wFix","rem","nw","w","min","widenTabWidth","calcNewWidths","ws","minWidth","setCellWidth","getElementsByTagName","innerHTML","padH","padV","charW","lineH","cellMinLength","ih","trim","ts","split","map","e","replace","calcMaxLineLength","dc","aw","ls","round","tempW","tempH","tableNeatWidth","tabs","opts","cm","fullWidthRate","maxBorderWidth","before","after","styleNeat","styleFull","s","getComputedStyle","parseFloat","paddingLeft","paddingRight","paddingTop","paddingBottom","elm","nodeName","fontFamily","fontSize","parentNode","h","getTextSize","getCommonMetrics","tarTabs","noTarTabs","gcCount","delay","setTimeout","parentElement","rob","ResizeObserver","oes","oe","target","observe","addEventListener","initScroll","_createHeaderClone","thead","tHead","trs","tBodies","containsOnlyTh","ths","trsH","createTHead","_createPseudoHeader","hc","styleHeaderContainer","ht","styleHeaderTable","cloneNode","_createBarClone","bar","styleScrollBar","spacer","doResize","head","overflowX","tw","getBoundingClientRect","display","top","offset","hw","firstChild","oTrs","cTrs","copyWidth","o","tag","os","_updateHeaderSize","disabled","pointerEvents","parent","getPropertyValue","overflowY","minHeight","offsetWidth","getScrollBarWidth","documentElement","_updateScrollBarSize","onWindowScroll","onTableScroll","tBottom","bottom","rh","hTop","hBottom","wY0","wY1","innerHeight","inView","capableWindowHeightRate","tLeft","left","tScrollLeft","hCy","offsetHeight","visible","tabLeft","tabScrollLeft","_updateHeaderVisibility","_updateBarVisibility","sL","tableUsableView","forced","el","op","ro","es","idx","indexOf","contentRect","passive","st","doFirst","resizeListeners","onResize","scrollPaddingTop","getScrollOffset","clearTimeout","l"],"mappings":"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","file":"table.min.js","sourcesContent":["/**\n *\n * Table\n *\n * @author Takuto Yanagida\n * @version 2021-11-11\n *\n */\n\n\nwindow['NACSS'] = window['NACSS'] || {};\n\n\n(function (NS) {\n\n\t(function () {\n\t\t/**\n\t\t *\n\t\t * Neat Width\n\t\t *\n\t\t * @author Takuto Yanagida\n\t\t * @version 2021-11-11\n\t\t *\n\t\t */\n\t\t\n\t\t\n\t\tfunction initialize(tabs, opts = {}) {\n\t\t\tif (tabs.length === 0) return;\n\t\t\n\t\t\tconst lt = tabs[tabs.length - 1];\n\t\t\tconst cm = Object.assign({\n\t\t\t\tfullWidthRate   : 0.95,\n\t\t\t\tcellMinWidth    : 80,\n\t\t\t\tcellMinAspect   : 2 / 3,  // width / height\n\t\t\t\tcellMinLength   : 8,\n\t\t\t\tmaxRowSize      : 200,\n\t\t\t\tmaxBorderWidth  : 2,\n\t\t\t\tbefore          : null,  // function (table) { ...; return delay; }\n\t\t\t\tafter           : null,  // function (table) { ... }\n\t\t\t\tstyleNeat       : ':ncTableNeat',\n\t\t\t\tstyleFull       : ':ncTableFull',\n\t\t\t\tstyleScrollRight: ':ncScrollRight',\n\t\t\t\tstyleScrollLeft : ':ncScrollLeft',\n\t\t\t}, opts, getCommonMetrics(lt));\n\t\t\n\t\t\tcm.padH += cm.maxBorderWidth * 2;\n\t\t\tcm.padV += cm.maxBorderWidth * 2;\n\t\t\tcm.dcTd = makeDummyCell(lt, 'td');\n\t\t\tcm.dcTh = makeDummyCell(lt, 'th');\n\t\t\n\t\t\tconst tarTabs = [], noTarTabs = [];\n\t\t\tfor (const t of tabs) {\n\t\t\t\tif (isTarget(t, cm)) tarTabs.push(t);\n\t\t\t\telse noTarTabs.push(t);\n\t\t\t}\n\t\t\tcm.gcCount = tarTabs.length;\n\t\t\n\t\t\tfor (const t of tarTabs) {\n\t\t\t\tconst delay = (cm.before) ? (cm.before(t) ?? 0) : false;\n\t\t\t\tst(() => {\n\t\t\t\t\tapply(t, cm);\n\t\t\t\t\tsetClass(t, cm.styleNeat);\n\t\t\t\t\tif (cm.after) cm.after(t);\n\t\t\t\t\tif (--cm.gcCount === 0) removeDummyCell(lt, cm);\n\t\t\t\t}, delay);\n\t\t\t}\n\t\t\tif (cm.fullWidthRate) {\n\t\t\t\tfor (const t of noTarTabs) {\n\t\t\t\t\tconst pw = t.parentElement.clientWidth;\n\t\t\t\t\tif (pw * cm.fullWidthRate < t.clientWidth) setClass(t, cm.styleFull);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfunction st(fn, d) { (d === false) ? fn() : setTimeout(fn, d); }\n\t\t\tinitScroll(tarTabs, cm);\n\t\t}\n\t\t\n\t\tfunction getCommonMetrics(tab) {\n\t\t\tconst td = tab.getElementsByTagName('td')[0];\n\t\t\tconst s = getComputedStyle(td);\n\t\t\tconst padH  = parseFloat(s.paddingLeft) + parseFloat(s.paddingRight);\n\t\t\tconst padV  = parseFloat(s.paddingTop) + parseFloat(s.paddingBottom);\n\t\t\tconst [charW, lineH] = getTextSize(td);\n\t\t\treturn { padH, padV, charW, lineH };\n\t\t}\n\t\t\n\t\tfunction getTextSize(elm) {\n\t\t\tconst d = document.createElement(elm.nodeName);\n\t\t\td.setAttribute('style', `position:fixed;margin:0;padding:0;font-family:${elm.style.fontFamily || 'inherit'};font-size:${elm.style.fontSize || 'inherit'};`);\n\t\t\td.innerHTML = '\\u3000';  // Full width space\n\t\t\telm.parentNode.appendChild(d);\n\t\t\tconst w = d.clientWidth;\n\t\t\tconst h = d.clientHeight;\n\t\t\td.parentNode.removeChild(d);\n\t\t\treturn [w, h];\n\t\t}\n\t\t\n\t\tfunction makeDummyCell(t, tagName) {\n\t\t\tconst d = document.createElement(tagName);\n\t\t\td.setAttribute('style', `position:fixed;display:inline-block;visibility:hidden;white-space:nowrap;`);\n\t\t\treturn t.appendChild(d);\n\t\t}\n\t\t\n\t\tfunction removeDummyCell(lt, cMat) {\n\t\t\tlt.removeChild(cMat.dcTd);\n\t\t\tlt.removeChild(cMat.dcTh);\n\t\t}\n\t\t\n\t\tfunction isTarget(tab, cMet) {\n\t\t\tif (tab.rows.length === 0) return false;\n\t\t\tif (cMet.maxRowSize < tab.rows.length) return false;\n\t\t\n\t\t\tconst { cellMinWidth, cellMinAspect } = cMet;\n\t\t\tfor (const tr of tab.rows) {\n\t\t\t\tif (!tr.hasChildNodes()) continue;\n\t\t\t\tfor (const n of tr.childNodes) {\n\t\t\t\t\tconst tn = n.tagName;\n\t\t\t\t\tif (tn !== 'TD' && tn !== 'TH') continue;\n\t\t\t\t\tif (1 < parseInt(n.getAttribute('colSpan'), 10)) continue;\n\t\t\t\t\tif (1 < parseInt(n.getAttribute('rowSpan'), 10)) continue;\n\t\t\t\t\tconst cw = n.clientWidth;\n\t\t\t\t\tconst ch = n.clientHeight;\n\t\t\t\t\tif (cw < cellMinWidth || cw / ch < cellMinAspect) return true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\t\n\t\t// -------------------------------------------------------------------------\n\t\t\n\t\t\n\t\tfunction initScroll(tabs, cMet) {\n\t\t\tconst rob = new ResizeObserver(oes => {\n\t\t\t\tfor (const oe of oes) onScroll(oe.target, cMet);\n\t\t\t});\n\t\t\tfor (const t of tabs) {\n\t\t\t\trob.observe(t);\n\t\t\t\tt.addEventListener('scroll', throttle(() => { onScroll(t, cMet); }));\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction onScroll(tab, cMet) {\n\t\t\tif (tab.scrollWidth - tab.clientWidth > 2) {  // for avoiding needless scrolling\n\t\t\t\tconst r = tab.scrollLeft / (tab.scrollWidth - tab.clientWidth);\n\t\t\t\tsetClass(tab, cMet.styleScrollRight, r < 0.95);\n\t\t\t\tsetClass(tab, cMet.styleScrollLeft, 0.05 < r);\n\t\t\t} else {\n\t\t\t\tsetClass(tab, cMet.styleScrollRight, false);\n\t\t\t\tsetClass(tab, cMet.styleScrollLeft, false);\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t// -------------------------------------------------------------------------\n\t\t\n\t\t\n\t\tfunction apply(tab, cMet) {\n\t\t\ttab.removeAttribute('width');\n\t\t\tif (tab.style.width) tab.style.width = null;\n\t\t\tif (tab.style.height) tab.style.height = null;\n\t\t\n\t\t\tconst grid  = makeCellGrid(tab);\n\t\t\tconst met   = Object.assign(getMetrics(tab, grid), cMet);\n\t\t\tconst newWs = calcNewWidths(grid, met);\n\t\t\tsetCellWidth(grid, newWs);\n\t\t\n\t\t\tconst cs = tab.getElementsByTagName('caption');\n\t\t\tif (cs.length) cs[0].innerHTML = `<span>${cs[0].innerHTML}</span>`;\n\t\t}\n\t\t\n\t\t\n\t\t// -------------------------------------------------------------------------\n\t\t\n\t\t\n\t\tfunction makeCellGrid(t) {\n\t\t\tconst css = collectCells(t);\n\t\t\tlet maxWidth = 0;\n\t\t\tfor (const cs of css) maxWidth = Math.max(maxWidth, cs.length);\n\t\t\tconst g = [];\n\t\t\tfor (const cs of css) g.push(new Array(maxWidth));\n\t\t\n\t\t\tfor (let y = 0; y < g.length; y += 1) {\n\t\t\t\tconst gr = g[y];\n\t\t\t\tconst tds = css[y];\n\t\t\t\tlet i = 0;\n\t\t\n\t\t\t\tfor (let x = 0; x < maxWidth; x += 1) {\n\t\t\t\t\tif (typeof gr[x] === 'number' || gr[x] === null) continue;\n\t\t\n\t\t\t\t\tconst td = tds[i]\n\t\t\t\t\tconst col = parseInt(td.getAttribute('colSpan') ?? 1, 10);\n\t\t\t\t\tconst row = parseInt(td.getAttribute('rowSpan') ?? 1, 10);\n\t\t\t\t\tgr[x] = td;\n\t\t\n\t\t\t\t\tif (1 < col) {\n\t\t\t\t\t\tfor (let p = 1; p < col; p += 1) gr[x + p] = p;\n\t\t\t\t\t}\n\t\t\t\t\tif (1 < row) {\n\t\t\t\t\t\tfor (let q = 1; q < row; q += 1) {\n\t\t\t\t\t\t\tconst nr = g[y + q];\n\t\t\t\t\t\t\tfor (let p = 0; p < col; p += 1) nr[x + p] = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ti += 1;\n\t\t\t\t\tif (tds.length <= i) break;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn g;\n\t\t}\n\t\t\n\t\tfunction collectCells(t, css = []) {\n\t\t\tfor (const tr of t.rows) {\n\t\t\t\tconst cs = [];\n\t\t\t\tif (tr.hasChildNodes()) {\n\t\t\t\t\tfor (const n of tr.childNodes) {\n\t\t\t\t\t\tconst tn = n.tagName;\n\t\t\t\t\t\tif (tn === 'TD' || tn === 'TH') cs.push(n);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcss.push(cs);\n\t\t\t}\n\t\t\treturn css;\n\t\t}\n\t\t\n\t\t\n\t\t// -------------------------------------------------------------------------\n\t\t\n\t\t\n\t\tfunction getMetrics(tab, grid) {\n\t\t\tconst origTabW = tab.clientWidth;\n\t\t\tconst origCellWs = [];\n\t\t\tfor (let x = 0; x < grid[0].length; x += 1) {\n\t\t\t\tfor (let y = 0; y < grid.length; y += 1) {\n\t\t\t\t\tconst g = grid[y][x];\n\t\t\t\t\tif (g instanceof HTMLTableCellElement && !g.getAttribute('colSpan')) {\n\t\t\t\t\t\torigCellWs.push(g.clientWidth);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn { origTabW, origCellWs };\n\t\t}\n\t\t\n\t\t\n\t\t// -------------------------------------------------------------------------\n\t\t\n\t\t\n\t\tfunction calcNewWidths(grid, met) {\n\t\t\tfor (const gr of grid) {\n\t\t\t\tfor (const gc of gr) {\n\t\t\t\t\tif (typeof gc !== 'number' && gc !== null) gc.style.whiteSpace = 'nowrap';\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst gw = grid[0].length;\n\t\t\tconst newWs = new Array(gw).fill(0);\n\t\t\tconst fixWs = new Array(gw).fill(0);\n\t\t\n\t\t\tfor (const gr of grid) {\n\t\t\t\tfor (let x = 0; x < gw; x += 1) {\n\t\t\t\t\tconst td = gr[x];\n\t\t\t\t\tif (td === undefined || td === null || typeof td === 'number') continue;\n\t\t\t\t\tif (x < gw - 1 && typeof gr[x + 1] === 'number') continue;\n\t\t\t\t\tif (1 < parseInt(td.getAttribute('colSpan'), 10)) continue;\n\t\t\t\t\tif (1 < parseInt(td.getAttribute('rowSpan'), 10)) continue;\n\t\t\n\t\t\t\t\tconst minW = calcMinWidth(td, met);\n\t\t\t\t\tnewWs[x] = Math.max(newWs[x], minW);\n\t\t\t\t\tif (!minW) fixWs[x] = Math.max(fixWs[x], td.clientWidth);\n\t\t\t\t}\n\t\t\t}\n\t\t\twidenTabWidth(newWs, fixWs, met);\n\t\t\treturn newWs;\n\t\t}\n\t\t\n\t\tfunction calcMinWidth(td, met) {\n\t\t\tconst { padH, padV, charW, lineH, dcTd, dcTh, cellMinWidth, cellMinAspect, cellMinLength } = met;\n\t\t\tif (calcMaxLineLength(td) < cellMinLength) return 0;\n\t\t\n\t\t\ttd.innerHTML = td.innerHTML.trim();\n\t\t\tconst dc = td.tagName === 'TD' ? dcTd : dcTh;\n\t\t\tdc.innerHTML = td.innerHTML;\n\t\t\tconst aw = dc.clientWidth - padH;\n\t\t\tconst ls = Math.round((dc.clientHeight - padV) / lineH);\n\t\t\tlet minW = 0;\n\t\t\tfor (let i = 2;; i += 1) {\n\t\t\t\tconst tempW = 0 | (aw / i + charW * i + padH);\n\t\t\t\tconst tempH = ls * (i * lineH) + padV;\n\t\t\t\tif (tempW < cellMinWidth || tempW / tempH < cellMinAspect || (minW && minW < tempW)) break;\n\t\t\t\tminW = tempW;\n\t\t\t}\n\t\t\treturn (minW + charW < dc.clientWidth) ? minW : 0;\n\t\t}\n\t\t\n\t\tfunction calcMaxLineLength(td) {\n\t\t\tconst ih = td.innerHTML.trim();\n\t\t\tconst ls = ih.split(/<\\s*br\\s*\\/?>/ui);\n\t\t\tconst ts = ls.map(e => e.replace(/<(\"[^\"]*\"|'[^']*'|[^'\">])*>/g, '').length);\n\t\t\treturn Math.max(...ts);\n\t\t}\n\t\t\n\t\tfunction widenTabWidth(newWs, fixWs, met) {\n\t\t\tconst { origTabW, origCellWs } = met;\n\t\t\tlet wNew = 0, wFix = 0;\n\t\t\tfor (let i = 0; i < newWs.length; i += 1) {\n\t\t\t\tif (newWs[i]) {\n\t\t\t\t\twNew += newWs[i];\n\t\t\t\t} else {\n\t\t\t\t\twFix += fixWs[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (origTabW < wNew + wFix) return;\n\t\t\tlet rem = origTabW - wFix;\n\t\t\tfor (let i = 0; i < newWs.length; i += 1) {\n\t\t\t\tif (!newWs[i]) continue;\n\t\t\t\tconst nw = newWs[i];\n\t\t\t\tconst w = Math.min(nw / wNew * rem, origCellWs[i]);\n\t\t\t\trem  -= (w - nw);\n\t\t\t\twNew -= (w - nw);\n\t\t\t\tnewWs[i] = 0 | w;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t// -------------------------------------------------------------------------\n\t\t\n\t\t\n\t\tfunction setCellWidth(grid, ws) {\n\t\t\tfor (const gr of grid) {\n\t\t\t\tfor (let x = 0; x < gr.length; x += 1) {\n\t\t\t\t\tconst gc = gr[x], w = ws[x];\n\t\t\t\t\tif (!w || !(gc instanceof HTMLTableCellElement)) continue;\n\t\t\t\t\tgc.style.whiteSpace = null;\n\t\t\t\t\tgc.style.minWidth   = w + 'px';\n\t\t\t\t\tgc.style.width      = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tNS.tableNeatWidth = initialize;\n\t})();\n\n\t(function () {\n\t\t/**\n\t\t *\n\t\t * Usable View\n\t\t *\n\t\t * @author Takuto Yanagida\n\t\t * @version 2021-11-11\n\t\t *\n\t\t */\n\t\t\n\t\t\n\t\tfunction initialize(tabs, opts = {}) {\n\t\t\tif (tabs.length === 0) return;\n\t\t\tconst cm = Object.assign({\n\t\t\t\tcapableWindowHeightRate: 0.9,\n\t\t\t\tstyleHeaderContainer   : ':ncTableStickyHeaderContainer',\n\t\t\t\tstyleHeaderTable       : ':ncTableStickyHeaderTable',\n\t\t\t\tstyleScrollBar         : ':ncTableStickyScrollBar',\n\t\t\n\t\t\t\tstyleScrollRight: ':ncScrollRight',\n\t\t\t\tstyleScrollLeft : ':ncScrollLeft',\n\t\t\t\toffset          : 0,\n\t\t\t}, opts);\n\t\t\n\t\t\tconst cs = [], ts = [...tabs];\n\t\t\tfor (const tab of ts) {\n\t\t\t\tconst head = _createHeaderClone(tab, cm);\n\t\t\t\tconst bar  = _createBarClone(tab, cm);\n\t\t\t\tcs.push({ tab, head, bar });\n\t\t\n\t\t\t\tlet forced = false;\n\t\t\t\tconst el = (tar, op) => throttle(() => {\n\t\t\t\t\tif (forced) {\n\t\t\t\t\t\tforced = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tforced = true;\n\t\t\t\t\t\top.scrollLeft = tar.scrollLeft;\n\t\t\t\t\t\tif (head) onTableScroll(tab, head, cm);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\ttab.addEventListener('scroll', el(tab, bar));\n\t\t\t\tbar.addEventListener('scroll', el(bar, tab));\n\t\t\t}\n\t\t\tconst ro = new ResizeObserver((es) => {\n\t\t\t\tfor (const e of es) {\n\t\t\t\t\tconst idx = ts.indexOf(e.target);\n\t\t\t\t\tconst c = cs[idx];\n\t\t\t\t\tdoResize(e.contentRect, c.tab, c.head, c.bar, cm);\n\t\t\t\t}\n\t\t\t});\n\t\t\tfor (const t of ts) ro.observe(t);\n\t\t\n\t\t\twindow.addEventListener('scroll', throttle(() => {\n\t\t\t\tfor (const c of cs) onWindowScroll(c.tab, c.head, c.bar, cm);\n\t\t\t}), { passive: true });\n\t\t\n\t\t\tlet st = null;\n\t\t\tonResize(() => {\n\t\t\t\tcm.offset = getScrollOffset();\n\t\t\t\tif (st) clearTimeout(st);\n\t\t\t\tst = setTimeout(() => {\n\t\t\t\t\tfor (const c of cs) doResize(null, c.tab, c.head, c.bar, cm);\n\t\t\t\t}, 100);\n\t\t\t}, true);\n\t\t}\n\t\t\n\t\tfunction _createHeaderClone(tab, cm) {\n\t\t\tlet thead = tab.tHead;\n\t\t\tif (!thead) {\n\t\t\t\tthead = _createPseudoHeader(tab);\n\t\t\t\tif (!thead) return null;\n\t\t\t\ttab.tHead = thead;\n\t\t\t}\n\t\t\tconst hc = document.createElement('div');\n\t\t\tsetClass(hc, cm.styleHeaderContainer);\n\t\t\ttab.parentNode.appendChild(hc);\n\t\t\n\t\t\tconst ht = document.createElement('div');\n\t\t\tsetClass(ht, cm.styleHeaderTable);\n\t\t\thc.appendChild(ht);\n\t\t\n\t\t\tht.appendChild(thead.cloneNode(true));\n\t\t\treturn hc;\n\t\t}\n\t\t\n\t\tfunction _createPseudoHeader(tab) {\n\t\t\tconst trs = tab.tBodies[0].rows;\n\t\t\tif (trs.length === 0) return null;\n\t\t\n\t\t\tfunction containsOnlyTh(tr) {\n\t\t\t\tconst tds = tr.getElementsByTagName('td');\n\t\t\t\tconst ths = tr.getElementsByTagName('th');\n\t\t\t\tif (tds.length === 0 && ths.length > 0) return true;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst trsH = [];\n\t\t\tfor (const tr of trs) {\n\t\t\t\tif (!containsOnlyTh(tr)) break;\n\t\t\t\ttrsH.push(tr);\n\t\t\t}\n\t\t\tif (trsH.length === 0) return null;\n\t\t\n\t\t\tconst thead = tab.createTHead();\n\t\t\tfor (const tr of trsH) thead.appendChild(tr);\n\t\t\treturn thead;\n\t\t}\n\t\t\n\t\tfunction _createBarClone(tab, cm) {\n\t\t\tconst bar = document.createElement('div');\n\t\t\tsetClass(bar, cm.styleScrollBar);\n\t\t\tconst spacer = document.createElement('div');\n\t\t\tbar.appendChild(spacer);\n\t\t\ttab.parentNode.appendChild(bar);\n\t\t\treturn bar;\n\t\t}\n\t\t\n\t\t\n\t\t// ---------------------------------------------------------------------\n\t\t\n\t\t\n\t\tfunction doResize(r, tab, head, bar, cm) {\n\t\t\ttab.style.overflowX = (tab.scrollWidth < tab.clientWidth + 2) ? 'hidden' : null;\n\t\t\n\t\t\tif (head) _updateHeaderSize(r, tab, head, cm);\n\t\t\tif (bar) _updateScrollBarSize(tab, bar);\n\t\t\tif (head || bar) onWindowScroll(tab, head, bar, cm);\n\t\t\tif (head) onTableScroll(tab, head, cm);\n\t\t}\n\t\t\n\t\tfunction _updateHeaderSize(r, tab, head, cm) {\n\t\t\tconst tw = r ? r.width : tab.getBoundingClientRect().width;\n\t\t\thead.style.maxWidth = tw + 'px';\n\t\t\thead.style.display  = 'none';\n\t\t\thead.style.top      = cm.offset + 'px';\n\t\t\n\t\t\tconst thead = tab.tHead;\n\t\t\tconst hw = thead.getBoundingClientRect().width;\n\t\t\tconst ht = head.firstChild;\n\t\t\tht.style.width = hw + 'px';\n\t\t\n\t\t\tconst oTrs = thead.rows;\n\t\t\tconst cTrs = ht.firstChild.rows;\n\t\t\tfor (let i = 0; i < oTrs.length; i += 1) {\n\t\t\t\tcopyWidth(oTrs[i], cTrs[i], 'td');\n\t\t\t\tcopyWidth(oTrs[i], cTrs[i], 'th');\n\t\t\t}\n\t\t\tfunction copyWidth(o, c, tag) {\n\t\t\t\tconst os = o.getElementsByTagName(tag);\n\t\t\t\tconst cs = c.getElementsByTagName(tag);\n\t\t\t\tfor (let i = 0; i < os.length; i += 1) {\n\t\t\t\t\tcs[i].style.width = os[i].getBoundingClientRect().width + 'px';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction _updateScrollBarSize(tab, bar) {\n\t\t\tconst disabled = (tab.scrollWidth < tab.clientWidth + 2);\n\t\t\tbar.style.overflowX     = disabled ? 'hidden' : null;\n\t\t\tbar.style.pointerEvents = disabled ? 'none'   : null;\n\t\t\n\t\t\tbar.style.maxWidth = `${tab.clientWidth}px`;\n\t\t\tbar.style.display = 'none';\n\t\t\tconst h = parseInt(getScrollBarWidth(document.documentElement));\n\t\t\tif (0 < h) bar.style.height = (h + 2) + 'px';\n\t\t\tbar.firstChild.style.width = `${tab.scrollWidth}px`;\n\t\t}\n\t\t\n\t\t\n\t\t// ---------------------------------------------------------------------\n\t\t\n\t\t\n\t\tfunction onWindowScroll(tab, head, bar, cm) {\n\t\t\tconst r = tab.getBoundingClientRect();\n\t\t\tconst tBottom = r.bottom;\n\t\t\tconst rh = tab.tHead.getBoundingClientRect();\n\t\t\tconst hTop = rh.top, hBottom = rh.bottom;\n\t\t\tconst wY0 = cm.offset, wY1 = window.innerHeight;\n\t\t\n\t\t\tconst inView = tBottom - hTop < cm.capableWindowHeightRate * (wY1 - wY0);\n\t\t\tconst tLeft = r.left, tScrollLeft = tab.scrollLeft;\n\t\t\tif (head) {\n\t\t\t\tconst hCy = tab.tHead.offsetHeight;\n\t\t\t\tconst f = (!inView && hTop < wY0 && wY0 < tBottom - hCy);\n\t\t\t\t_updateHeaderVisibility(head, f, tLeft, tScrollLeft);\n\t\t\t}\n\t\t\tif (bar) {\n\t\t\t\tconst f = (!inView && hBottom < wY1 && wY1 < tBottom);\n\t\t\t\t_updateBarVisibility(bar, f, tLeft, tScrollLeft);\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction _updateHeaderVisibility(head, visible, tabLeft, tabScrollLeft) {\n\t\t\thead.style.display = visible ? 'block' : 'none';\n\t\t\thead.style.left    = tabLeft + 'px';\n\t\t\thead.scrollLeft    = tabScrollLeft;\n\t\t}\n\t\t\n\t\tfunction _updateBarVisibility(bar, visible, tabLeft, tabScrollLeft) {\n\t\t\tbar.style.display = visible ? 'block' : 'none';\n\t\t\tbar.style.left    = tabLeft + 'px';\n\t\t\tbar.scrollLeft    = tabScrollLeft;\n\t\t}\n\t\t\n\t\t\n\t\t// ---------------------------------------------------------------------\n\t\t\n\t\t\n\t\tfunction onTableScroll(tab, head, cm) {\n\t\t\tconst sL = Math.max(0, Math.min(tab.scrollLeft, tab.scrollWidth - tab.offsetWidth));  // for iOS\n\t\t\thead.scrollLeft = sL;\n\t\t\n\t\t\tif (tab.scrollWidth - tab.clientWidth > 2) {  // for avoiding needless scrolling\n\t\t\t\tconst r = tab.scrollLeft / (tab.scrollWidth - tab.clientWidth);\n\t\t\t\tsetClass(head, cm.styleScrollRight, r < 0.95);\n\t\t\t\tsetClass(head, cm.styleScrollLeft, 0.05 < r);\n\t\t\t} else {\n\t\t\t\tsetClass(head, cm.styleScrollRight, false);\n\t\t\t\tsetClass(head, cm.styleScrollLeft, false);\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t// Utilities ---------------------------------------------------------------\n\t\t\n\t\t\n\t\tfunction getScrollBarWidth(parent) {\n\t\t\tconst d = document.createElement('div');\n\t\t\td.setAttribute('style', 'position:absolute;bottom:100%;width:calc(100vw - 100%);height:1px;');\n\t\t\tparent.appendChild(d);\n\t\t\tlet width = 0 | window.getComputedStyle(d).getPropertyValue('width');\n\t\t\n\t\t\tif (width === 0) {  // Window does not have any scroll bar\n\t\t\t\td.style.overflowY = 'scroll';\n\t\t\t\td.style.width = '';\n\t\t\t\tconst c = document.createElement('div');\n\t\t\t\tc.style.minHeight = '100px';\n\t\t\t\td.appendChild(c);\n\t\t\t\tconst cw = 0 | window.getComputedStyle(c).getPropertyValue('width');\n\t\t\t\twidth = d.offsetWidth - cw;\n\t\t\t}\n\t\t\tparent.removeChild(d);\n\t\t\treturn width;\n\t\t}\n\t\tNS.tableUsableView = initialize;\n\t})();\n\n\t/**\n\t *\n\t * Style Class Utilities\n\t *\n\t * @author Takuto Yanagida\n\t * @version 2021-11-11\n\t *\n\t */\n\t\n\t\n\tfunction hasClass(tar, cls) {\n\t\tconst key = cls.substr(1);\n\t\tif (cls.startsWith(':')) {\n\t\t\treturn tar.dataset[key] !== undefined;\n\t\t} else {\n\t\t\treturn tar.classList.contains(key);\n\t\t}\n\t}\n\t\n\tfunction setClass(tar, cls, enabled = true, val = '') {\n\t\tconst key = cls.substr(1);\n\t\tif (cls.startsWith(':')) {\n\t\t\tif (enabled) {\n\t\t\t\ttar.dataset[key] = val;\n\t\t\t} else {\n\t\t\t\tdelete tar.dataset[key];\n\t\t\t}\n\t\t} else {\n\t\t\tconst c = [key, val].join('-');\n\t\t\tif (enabled) {\n\t\t\t\ttar.classList.add(c);\n\t\t\t} else {\n\t\t\t\ttar.classList.remove(c);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction getSelector(cls) {\n\t\tif (cls.startsWith(':')) {\n\t\t\treturn `*[data-${cls.substr(1).replace(/([A-Z])/g, c => '-' + c.charAt(0).toLowerCase())}]`;\n\t\t} else {\n\t\t\treturn `*${cls}`;\n\t\t}\n\t}\n\t\n\t/**\n\t *\n\t * Utilities\n\t *\n\t * @author Takuto Yanagida\n\t * @version 2021-11-11\n\t *\n\t */\n\t\n\t\n\tfunction getScrollOffset() {\n\t\tconst s = getComputedStyle(document.documentElement);\n\t\treturn parseInt(s.scrollPaddingTop);\n\t}\n\t\n\t\n\t// -----------------------------------------------------------------------------\n\t\n\t\n\tfunction throttle(fn) {\n\t\tlet isRunning;\n\t\treturn (...args) => {\n\t\t\tif (isRunning) return;\n\t\t\tisRunning = true;\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tisRunning = false;\n\t\t\t\tfn(...args);\n\t\t\t});\n\t\t};\n\t}\n\t\n\tconst resizeListeners = [];\n\t\n\tfunction onResize(fn, doFirst = false) {\n\t\tif (doFirst) fn();\n\t\tresizeListeners.push(throttle(fn));\n\t}\n\t\n\tdocument.addEventListener('DOMContentLoaded', () => {\n\t\twindow.addEventListener('resize', () => {\n\t\t\tfor (const l of resizeListeners) l();\n\t\t}, { passive: true });\n\t});\n\t\n\n})(window['NACSS']);\n"]}