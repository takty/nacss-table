window.NACSS=window.NACSS||{},function(t){function e(t,e){let l=t.tHead;if(!l){if(l=n(t),!l)return null;t.tHead=l}const o=document.createElement("div");enableClass(!0,o,e.styleHeaderContainer),t.parentNode.appendChild(o);const s=document.createElement("div");return enableClass(!0,s,e.styleHeaderTable),o.appendChild(s),s.appendChild(l.cloneNode(!0)),o}function n(t){const e=t.tBodies[0].rows;if(0===e.length)return null;function n(t){const e=t.getElementsByTagName("td"),n=t.getElementsByTagName("th");return 0===e.length&&n.length>0}const l=[];for(const t of e){if(!n(t))break;l.push(t)}if(0===l.length)return null;const o=t.createTHead();for(const t of l)o.appendChild(t);return o}function l(t,e){const n=document.createElement("div");enableClass(!0,n,e.styleScrollBar);const l=document.createElement("div");return n.appendChild(l),t.parentNode.appendChild(n),n}function o(t,e,n,l,o){e.style.overflowX=e.scrollWidth<e.clientWidth+2?"hidden":null,n&&s(t,e,n,o),l&&i(e,l),(n||l)&&d(e,n,l,o),n&&a(e,n,o)}function s(t,e,n,l){const o=t?t.width:e.getBoundingClientRect().width;n.style.maxWidth=o+"px",n.style.display="none",n.style.top=l.offset+"px";const s=e.tHead,i=s.getBoundingClientRect().width,d=n.firstChild;d.style.width=i+"px";const c=s.rows,r=d.firstChild.rows;for(let t=0;t<c.length;t+=1)a(c[t],r[t],"td"),a(c[t],r[t],"th");function a(t,e,n){const l=t.getElementsByTagName(n),o=e.getElementsByTagName(n);for(let t=0;t<l.length;t+=1)o[t].style.width=l[t].getBoundingClientRect().width+"px"}}function i(t,e){const n=t.scrollWidth<t.clientWidth+2;e.style.overflowX=n?"hidden":null,e.style.pointerEvents=n?"none":null,e.style.maxWidth=`${t.clientWidth}px`,e.style.display="none";const l=parseInt(f(document.documentElement));0<l&&(e.style.height=l+2+"px"),e.firstChild.style.width=`${t.scrollWidth}px`}function d(t,e,n,l){const o=t.getBoundingClientRect(),s=o.bottom,i=t.tHead.getBoundingClientRect(),d=i.top,a=i.bottom,h=l.offset,f=window.innerHeight,u=s-d<l.capableWindowHeightRate*(f-h),p=o.left,y=t.scrollLeft;if(e){const n=t.tHead.offsetHeight;c(e,!u&&d<h&&h<s-n,p,y)}if(n){r(n,!u&&a<f&&f<s,p,y)}}function c(t,e,n,l){t.style.display=e?"block":"none",t.style.left=n+"px",t.scrollLeft=l}function r(t,e,n,l){t.style.display=e?"block":"none",t.style.left=n+"px",t.scrollLeft=l}function a(t,e,n){const l=Math.max(0,Math.min(t.scrollLeft,t.scrollWidth-t.offsetWidth));if(e.scrollLeft=l,t.scrollWidth-t.clientWidth>2){const l=t.scrollLeft/(t.scrollWidth-t.clientWidth);enableClass(l<.95,e,n.styleScrollRight),enableClass(.05<l,e,n.styleScrollLeft)}else enableClass(!1,e,n.styleScrollRight),enableClass(!1,e,n.styleScrollLeft)}function h(t){return t.startsWith(":")?`*[data-${t.substr(1).replace(/([A-Z])/g,(t=>"-"+t.charAt(0).toLowerCase()))}]`:`*${t}`}function f(t){const e=document.createElement("div");e.setAttribute("style","position:absolute;bottom:100%;width:calc(100vw - 100%);height:1px;"),t.appendChild(e);let n=0|window.getComputedStyle(e).getPropertyValue("width");if(0===n){e.style.overflowY="scroll",e.style.width="";const t=document.createElement("div");t.style.minHeight="100px",e.appendChild(t);const l=0|window.getComputedStyle(t).getPropertyValue("width");n=e.offsetWidth-l}return t.removeChild(e),n}function e(t,e){let l=t.tHead;if(!l){if(l=n(t),!l)return null;t.tHead=l}const o=document.createElement("div");enableClass(!0,o,e.styleHeaderContainer),t.parentNode.appendChild(o);const s=document.createElement("div");return enableClass(!0,s,e.styleHeaderTable),o.appendChild(s),s.appendChild(l.cloneNode(!0)),o}function n(t){const e=t.tBodies[0].rows;if(0===e.length)return null;function n(t){const e=t.getElementsByTagName("td"),n=t.getElementsByTagName("th");return 0===e.length&&n.length>0}const l=[];for(const t of e){if(!n(t))break;l.push(t)}if(0===l.length)return null;const o=t.createTHead();for(const t of l)o.appendChild(t);return o}function l(t,e){const n=document.createElement("div");enableClass(!0,n,e.styleScrollBar);const l=document.createElement("div");return n.appendChild(l),t.parentNode.appendChild(n),n}function o(t,e,n,l,o){e.style.overflowX=e.scrollWidth<e.clientWidth+2?"hidden":null,n&&s(t,e,n,o),l&&i(e,l),(n||l)&&d(e,n,l,o),n&&a(e,n,o)}function s(t,e,n,l){const o=t?t.width:e.getBoundingClientRect().width;n.style.maxWidth=o+"px",n.style.display="none",n.style.top=l.offset+"px";const s=e.tHead,i=s.getBoundingClientRect().width,d=n.firstChild;d.style.width=i+"px";const c=s.rows,r=d.firstChild.rows;for(let t=0;t<c.length;t+=1)a(c[t],r[t],"td"),a(c[t],r[t],"th");function a(t,e,n){const l=t.getElementsByTagName(n),o=e.getElementsByTagName(n);for(let t=0;t<l.length;t+=1)o[t].style.width=l[t].getBoundingClientRect().width+"px"}}function i(t,e){const n=t.scrollWidth<t.clientWidth+2;e.style.overflowX=n?"hidden":null,e.style.pointerEvents=n?"none":null,e.style.maxWidth=`${t.clientWidth}px`,e.style.display="none";const l=parseInt(f(document.documentElement));0<l&&(e.style.height=l+2+"px"),e.firstChild.style.width=`${t.scrollWidth}px`}function d(t,e,n,l){const o=t.getBoundingClientRect(),s=o.bottom,i=t.tHead.getBoundingClientRect(),d=i.top,a=i.bottom,h=l.offset,f=window.innerHeight,u=s-d<l.capableWindowHeightRate*(f-h),p=o.left,y=t.scrollLeft;if(e){const n=t.tHead.offsetHeight;c(e,!u&&d<h&&h<s-n,p,y)}if(n){r(n,!u&&a<f&&f<s,p,y)}}function c(t,e,n,l){t.style.display=e?"block":"none",t.style.left=n+"px",t.scrollLeft=l}function r(t,e,n,l){t.style.display=e?"block":"none",t.style.left=n+"px",t.scrollLeft=l}function a(t,e,n){const l=Math.max(0,Math.min(t.scrollLeft,t.scrollWidth-t.offsetWidth));if(e.scrollLeft=l,t.scrollWidth-t.clientWidth>2){const l=t.scrollLeft/(t.scrollWidth-t.clientWidth);enableClass(l<.95,e,n.styleScrollRight),enableClass(.05<l,e,n.styleScrollLeft)}else enableClass(!1,e,n.styleScrollRight),enableClass(!1,e,n.styleScrollLeft)}function h(t){return t.startsWith(":")?`*[data-${t.substr(1).replace(/([A-Z])/g,(t=>"-"+t.charAt(0).toLowerCase()))}]`:`*${t}`}function f(t){const e=document.createElement("div");e.setAttribute("style","position:absolute;bottom:100%;width:calc(100vw - 100%);height:1px;"),t.appendChild(e);let n=0|window.getComputedStyle(e).getPropertyValue("width");if(0===n){e.style.overflowY="scroll",e.style.width="";const t=document.createElement("div");t.style.minHeight="100px",e.appendChild(t);const l=0|window.getComputedStyle(t).getPropertyValue("width");n=e.offsetWidth-l}return t.removeChild(e),n}window.NACSS.tableUsableView=function(t,n={}){if(0===t.length)return;const s=Object.assign({capableWindowHeightRate:.9,styleHeaderContainer:":ncTableFixedHeaderContainer",styleHeaderTable:":ncTableFixedHeaderTable",styleScrollBar:":ncTableFixedScrollBar",styleFixedHeader:":ncFixedHeader",styleScrollRight:":ncScrollRight",styleScrollLeft:":ncScrollLeft",offset:0},n),i=[],c=[...t];for(const t of c){const n=e(t,s),o=l(t,s);i.push({tab:t,head:n,bar:o});let d=!1;const c=(e,l)=>throttle((()=>{d?d=!1:(d=!0,l.scrollLeft=e.scrollLeft,n&&a(t,n,s))}));t.addEventListener("scroll",c(t,o)),o.addEventListener("scroll",c(o,t))}const r=new ResizeObserver((t=>{for(const e of t){const t=c.indexOf(e.target),n=i[t];o(e.contentRect,n.tab,n.head,n.bar,s)}}));for(const t of c)r.observe(t);window.addEventListener("scroll",throttle((()=>{for(const t of i)d(t.tab,t.head,t.bar,s)})),{passive:!0});const f=h(s.styleFixedHeader);if(f){const t=document.querySelector(f);if(t){new ResizeObserver((t=>{s.offset=t[0].contentRect.bottom;for(const t of i)o(null,t.tab,t.head,t.bar,s)})).observe(t)}}}}();
//# sourceMappingURL=table-usable-view.min.js.map