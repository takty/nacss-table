window.NACSS=window.NACSS||{},function(t){function e(t,e){let n=t.tHead;if(!n){if(n=function(t){const e=t.tBodies[0].rows;if(0===e.length)return null;function n(t){const e=t.getElementsByTagName("td"),n=t.getElementsByTagName("th");return 0===e.length&&n.length>0}const l=[];for(const t of e){if(!n(t))break;l.push(t)}if(0===l.length)return null;const o=t.createTHead();for(const t of l)o.appendChild(t);return o}(t),!n)return null;t.tHead=n}const l=document.createElement("div");s(l,e.styleHeaderContainer),t.parentNode.appendChild(l);const o=document.createElement("div");return s(o,e.styleHeaderTable),l.appendChild(o),o.appendChild(n.cloneNode(!0)),l}function n(t,e){const n=document.createElement("div");s(n,e.styleScrollBar);const l=document.createElement("div");return n.appendChild(l),t.parentNode.appendChild(n),n}function l(t,e,n,l,s){e.style.overflowX=e.scrollWidth<e.clientWidth+2?"hidden":null,n&&function(t,e,n,l){const o=t?t.width:e.getBoundingClientRect().width;n.style.maxWidth=o+"px",n.style.display="none",n.style.top=l.offset+"px";const i=e.tHead,s=i.getBoundingClientRect().width,c=n.firstChild;c.style.width=s+"px";const d=i.rows,r=c.firstChild.rows;for(let t=0;t<d.length;t+=1)a(d[t],r[t],"td"),a(d[t],r[t],"th");function a(t,e,n){const l=t.getElementsByTagName(n),o=e.getElementsByTagName(n);for(let t=0;t<l.length;t+=1)o[t].style.width=l[t].getBoundingClientRect().width+"px"}}(t,e,n,s),l&&function(t,e){const n=t.scrollWidth<t.clientWidth+2;e.style.overflowX=n?"hidden":null,e.style.pointerEvents=n?"none":null,e.style.maxWidth=`${t.clientWidth}px`,e.style.display="none";const l=parseInt(function(t){const e=document.createElement("div");e.setAttribute("style","position:absolute;bottom:100%;width:calc(100vw - 100%);height:1px;"),t.appendChild(e);let n=0|window.getComputedStyle(e).getPropertyValue("width");if(0===n){e.style.overflowY="scroll",e.style.width="";const t=document.createElement("div");t.style.minHeight="100px",e.appendChild(t);const l=0|window.getComputedStyle(t).getPropertyValue("width");n=e.offsetWidth-l}return t.removeChild(e),n}(document.documentElement));0<l&&(e.style.height=l+2+"px");e.firstChild.style.width=`${t.scrollWidth}px`}(e,l),(n||l)&&o(e,n,l,s),n&&i(e,n,s)}function o(t,e,n,l){const o=t.getBoundingClientRect(),i=o.bottom,s=t.tHead.getBoundingClientRect(),c=s.top,d=s.bottom,r=l.offset,a=window.innerHeight,f=i-c<l.capableWindowHeightRate*(a-r),h=o.left,u=t.scrollLeft;if(e){const n=t.tHead.offsetHeight;!function(t,e,n,l){t.style.display=e?"block":"none",t.style.left=n+"px",t.scrollLeft=l}(e,!f&&c<r&&r<i-n,h,u)}if(n){!function(t,e,n,l){t.style.display=e?"block":"none",t.style.left=n+"px",t.scrollLeft=l}(n,!f&&d<a&&a<i,h,u)}}function i(t,e,n){const l=Math.max(0,Math.min(t.scrollLeft,t.scrollWidth-t.offsetWidth));if(e.scrollLeft=l,t.scrollWidth-t.clientWidth>2){const l=t.scrollLeft/(t.scrollWidth-t.clientWidth);s(e,n.styleScrollRight,l<.95),s(e,n.styleScrollLeft,.05<l)}else s(e,n.styleScrollRight,!1),s(e,n.styleScrollLeft,!1)}function s(t,e,n=!0,l=""){const o=e.substr(1);if(e.startsWith(":"))n?t.dataset[o]=l:delete t.dataset[o];else{const e=[o,l].join("-");n?t.classList.add(e):t.classList.remove(e)}}function c(t){let e;return(...n)=>{e||(e=!0,requestAnimationFrame((()=>{e=!1,t(...n)})))}}window["NACSS"].tableUsableView=function(t,s={}){if(0===t.length)return;const r=Object.assign({capableWindowHeightRate:.9,styleHeaderContainer:":ncTableStickyHeaderContainer",styleHeaderTable:":ncTableStickyHeaderTable",styleScrollBar:":ncTableStickyScrollBar",styleScrollRight:":ncScrollRight",styleScrollLeft:":ncScrollLeft",offset:0},s),a=[],f=[...t];for(const t of f){const l=e(t,r),o=n(t,r);a.push({tab:t,head:l,bar:o});let s=!1;const d=(e,n)=>c((()=>{s?s=!1:(s=!0,n.scrollLeft=e.scrollLeft,l&&i(t,l,r))}));t.addEventListener("scroll",d(t,o)),o.addEventListener("scroll",d(o,t))}const h=new ResizeObserver((t=>{for(const e of t){const t=f.indexOf(e.target),n=a[t];l(e.contentRect,n.tab,n.head,n.bar,r)}}));for(const t of f)h.observe(t);window.addEventListener("scroll",c((()=>{for(const t of a)o(t.tab,t.head,t.bar,r)})),{passive:!0});let u=null;!function(t,e=!1){e&&t();d.push(c(t))}((()=>{r.offset=function(){const t=getComputedStyle(document.documentElement);return parseInt(t.scrollPaddingTop)}(),u&&clearTimeout(u),u=setTimeout((()=>{for(const t of a)l(null,t.tab,t.head,t.bar,r)}),100)}),!0)};const d=[];document.addEventListener("DOMContentLoaded",(()=>{window.addEventListener("resize",(()=>{for(const t of d)t()}),{passive:!0})}))}();
//# sourceMappingURL=table-usable-view.min.js.map