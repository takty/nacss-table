window.NACSS=window.NACSS||{},function(t){let e;function i(t){let e;return()=>{e||(e=!0,requestAnimationFrame((()=>{e=!1,t()})))}}class l{constructor(t){this._table=t,this._headerHeight=0,this._windowWidth=0,this._create(),setTimeout((()=>{this._initialize()}),10)}_create(){this._sbar=this._createScrollBarClone();const t=this._table.getElementsByTagName("caption");this._capt=t.length?t[0]:null}_createScrollBarClone(){const t=document.createElement("div");t.dataset.stile+=" fixed-table-scroll-bar";const e=document.createElement("div");return t.appendChild(e),this._table.parentNode.appendChild(t),t}_initialize(){this._initTableScroll(),this.onWindowResize()}_initTableScroll(){let t=!1,e=!1;this._table.addEventListener("scroll",i((()=>{t?t=!1:(this._sbar.scrollLeft=this._table.scrollLeft,e=!0)}))),this._sbar.addEventListener("scroll",i((()=>{e?e=!1:(this._table.scrollLeft=this._sbar.scrollLeft,t=!0)})))}onWindowResize(){const t=this._table;t.style.overflowX=t.scrollWidth<t.clientWidth+2?"hidden":"";const e=Math.min(window.outerWidth,window.innerWidth);if(this._windowWidth!==e&&(this._windowWidth=e,this._sbar)){const e=this._sbar;e.style.maxWidth=`${t.clientWidth}px`,e.style.display="none";const i=parseInt(n());0<i&&(e.style.height=i+2+"px"),e.firstChild.style.width=`${t.scrollWidth}px`,this.onWindowScroll()}}onWindowScroll(){const t=this._table,e=t.getBoundingClientRect(),i=e.top,l=e.bottom,n=this._capt?this._capt.offsetHeight:0,o=this._headerHeight;let s=!1;if(l-i-n<.9*(window.innerHeight-0)||window.innerHeight<i+n+o||l<window.innerHeight||t.scrollWidth-t.clientWidth>2&&(s=!0),this._sbar){const i=this._sbar;i.style.display=s?"block":"none",i.style.left=e.left+"px",i.scrollLeft=t.scrollLeft}}}function n(){const t=document.createElement("div");t.setAttribute("style","position:absolute;bottom:100%;width:calc(100vw - 100%);height:1px;"),document.body.appendChild(t);let e=0|window.getComputedStyle(t).getPropertyValue("width");if(0===e){t.style.overflowY="scroll",t.style.width="";const i=document.createElement("div");i.style.minHeight="100px",t.appendChild(i);const l=0|window.getComputedStyle(i).getPropertyValue("width");e=t.offsetWidth-l}return document.body.removeChild(t),e}t.tableScroll=function(t){e=parseInt(n());const o=[];for(let e=0;e<t.length;e+=1)o.push(new l(t[e]));window.addEventListener("scroll",i((()=>{for(let t=0;t<o.length;t+=1)o[t].onWindowScroll()})),{passive:!0}),window.addEventListener("resize",i((()=>{for(let t=0;t<o.length;t+=1)o[t].onWindowResize()})),{passive:!0})}}(window.NACSS);
//# sourceMappingURL=table-scroll.min.js.map
