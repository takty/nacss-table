window.NACSS=window.NACSS||{},function(t){!function(){function e(t,e){const i=document.createElement(e);return i.style.display="inline-block",i.style.position="fixed",i.style.visibility="hidden",i.style.whiteSpace="nowrap",t.appendChild(i)}function i(t,e){t.removeChild(e.dcTd),t.removeChild(e.dcTh)}function l(t,e){if(0===t.rows.length)return!1;if(e.maxRowSize<t.rows.length)return!1;const{cellMinWidth:i,cellMinAspect:l}=e;for(const e of t.rows)if(e.hasChildNodes())for(const t of e.childNodes){const e=t.tagName;if("TD"!==e&&"TH"!==e)continue;if(1<parseInt(t.getAttribute("colSpan"),10))continue;if(1<parseInt(t.getAttribute("rowSpan"),10))continue;const n=t.clientWidth,s=t.clientHeight;if(n<i||n/s<l)return!0}return!1}function n(t,e){t.removeAttribute("width"),t.style.display="block",t.style.width="fit-content","fit-content"!==t.style.width&&(t.style.width="-moz-fit-content"),t.style.maxWidth="100%",t.style.overflow="auto";const i=function(t){const e=function(t,e=[]){for(const i of t.rows){const t=[];if(i.hasChildNodes())for(const e of i.childNodes){const i=e.tagName;"TD"!==i&&"TH"!==i||t.push(e)}e.push(t)}return e}(t);let i=0;for(const t of e)i=Math.max(i,t.length);const l=[];for(const t of e)l.push(new Array(i));for(let t=0;t<l.length;t+=1){const n=l[t],s=e[t];let a=0;for(let e=0;e<i;e+=1){if("number"==typeof n[e]||null===n[e])continue;const i=s[a],o=parseInt(i.getAttribute("colSpan")??1,10),r=parseInt(i.getAttribute("rowSpan")??1,10);if(n[e]=i,1<o)for(let t=1;t<o;t+=1)n[e+t]=t;if(1<r)for(let i=1;i<r;i+=1){const n=l[t+i];for(let t=0;t<o;t+=1)n[e+t]=null}if(a+=1,s.length<=a)break}}return l}(t);!function(t,e){for(const i of t)for(let t=0;t<i.length;t+=1){const l=i[t],n=e[t];n&&l instanceof HTMLTableCellElement&&(l.style.whiteSpace=null,l.style.minWidth=n+"px",l.style.width=null)}}(i,function(t,e){for(const e of t)for(const t of e)"number"!=typeof t&&null!==t&&(t.style.whiteSpace="nowrap");const i=t[0].length,l=new Array(i).fill(0),n=new Array(i).fill(0);for(const a of t)for(let t=0;t<i;t+=1){const o=a[t];if(null==o||"number"==typeof o)continue;if(t<i-1&&"number"==typeof a[t+1])continue;if(1<parseInt(o.getAttribute("colSpan"),10))continue;if(1<parseInt(o.getAttribute("rowSpan"),10))continue;const r=s(o,e);l[t]=Math.max(l[t],r),r||(n[t]=Math.max(n[t],o.clientWidth))}return function(t,e,i){const{origTabW:l,origCellWs:n}=i;let s=0,a=0;for(let i=0;i<t.length;i+=1)t[i]?s+=t[i]:a+=e[i];if(l<s+a)return;let o=l-a;for(let e=0;e<t.length;e+=1){if(!t[e])continue;const i=t[e],l=Math.min(i/s*o,n[e]);o-=l-i,s-=l-i,t[e]=0|l}}(l,n,e),l}(i,Object.assign(function(t,e){const i=t.clientWidth,l=[];for(let t=0;t<e[0].length;t+=1)for(let i=0;i<e.length;i+=1){const n=e[i][t];if(n instanceof HTMLTableCellElement&&!n.getAttribute("colSpan")){l.push(n.clientWidth);break}}return{origTabW:i,origCellWs:l}}(t,i),e)))}function s(t,e){const{padH:i,padV:l,charW:n,lineH:s,dcTd:a,dcTh:o,cellMinWidth:r,cellMinAspect:h,cellMinLength:d}=e;if(function(t){const e=t.innerHTML.trim();let i=e.split(/<\s*br\s*\/?>/iu);0===i.length&&(i=[e]);const l=i.map((t=>t.replace(/<("[^"]*"|'[^']*'|[^'">])*>/g,"").length));return Math.max(...l)}(t)<d)return 0;t.innerHTML=t.innerHTML.trim();const c="TD"===t.tagName?a:o;c.innerHTML=t.innerHTML;const _=c.clientWidth-i,p=Math.round((c.clientHeight-l)/s);let u=0;for(let t=2;;t+=1){const e=0|_/t+n*t+i,a=p*(t*s)+l;if(e<r||e/a<h||u&&u<e)break;u=e}return u+n<c.clientWidth?u:0}t.tableNeatWidth=function(t,s={}){if(0===t.length)return;const a=t[t.length-1],o=Object.assign({tableWidthRateForFull:.95,cellMinWidth:80,cellMinAspect:2/3,cellMinLength:8,maxRowSize:200,maxBorderWidth:2,onDoing:null,onDone:null},s,function(t){const e=t.getElementsByTagName("td")[0],i=getComputedStyle(e),l=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),n=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),[s,a]=function(t){const e=document.createElement(t.nodeName);e.setAttribute("style",`position:fixed;margin:0;padding:0;font-family:${t.style.fontFamily||"inherit"};font-size:${t.style.fontSize||"inherit"};`),e.innerHTML="ã€€",t.parentNode.appendChild(e);const i=e.clientWidth,l=e.clientHeight;return e.parentNode.removeChild(e),[i,l]}(e);return{padH:l,padV:n,charW:s,lineH:a}}(a));o.padH+=2*o.maxBorderWidth,o.padV+=2*o.maxBorderWidth,o.dcTd=e(a,"td"),o.dcTh=e(a,"th");const r=[],h=[];for(const e of t)l(e,o)?r.push(e):h.push(e);o.gcCount=r.length;for(const t of r){d((()=>{n(t,o),o.onDone&&o.onDone(t),0==--o.gcCount&&i(a,o)}),!!o.onDoing&&(o.onDoing(t)??0))}if(o.tableWidthRateForFull)for(const t of h){t.parentElement.clientWidth*o.tableWidthRateForFull<t.clientWidth&&(t.style.width="100%")}function d(t,e){!1===e?t():setTimeout(t,e)}}}(),function(){let e;function i(t){let e;function i(){e=!1,t()}return()=>{e||(e=!0,requestAnimationFrame(i))}}class l{constructor(t){t.style.height&&(t.style.height=""),this._table=t,this._headerHeight=0,this._isEnlarged=!1,this._windowWidth=Math.min(window.outerWidth,window.innerWidth),this._create(),setTimeout((()=>{this._initialize()}),10)}_create(){this._sbar=this._createScrollBarClone();const t=this._table.getElementsByTagName("caption");this._capt=t.length?t[0]:null,this._capt&&(this._capt.innerHTML=`<span>${this._capt.innerHTML}</span>`)}_createScrollBarClone(){const t=document.createElement("div");t.dataset.stile+=" fixed-table-scroll-bar",this._table.parentNode.appendChild(t);const e=document.createElement("div");return t.appendChild(e),t}_initialize(){const t=getComputedStyle(this._table).backgroundColor;t&&"transparent"!==t&&(this._table.dataset.background=t),this._initTableScroll(),this._resize(),this._adjustUnexpectedScrollBar()}_initTableScroll(){let t=!1,e=!1;this._table.addEventListener("scroll",i((()=>{t?t=!1:(this._sbar.scrollLeft=this._table.scrollLeft,e=!0),this._onTableScroll()}))),this._sbar.addEventListener("scroll",i((()=>{e?e=!1:(this._table.scrollLeft=this._sbar.scrollLeft,t=!0)})))}_isScrollable(){const t=this._table;return t.scrollWidth-t.clientWidth>2}onWindowResize(){this._adjustUnexpectedScrollBar();const t=Math.min(window.outerWidth,window.innerWidth);this._windowWidth!==t&&(this._windowWidth=t,this._resize())}_adjustUnexpectedScrollBar(){const t=this._table;t.style.overflowX=t.scrollWidth<t.clientWidth+2?"hidden":""}_resize(){this._sbar&&this._updateScrollBarSize(this._sbar),this._sbar&&this.onWindowScroll(),this._onTableScroll()}_updateScrollBarSize(t){t.style.maxWidth=this._table.clientWidth+"px",t.style.display="none";const e=parseInt(n());0<e&&(t.style.height=e+2+"px");const i=this._table.tBodies[0];t.firstChild.style.width=Math.ceil(i.clientWidth)+"px"}onWindowScroll(){const t=this._table.getBoundingClientRect(),e=t.top,i=t.bottom,l=this._capt?this._capt.offsetHeight:0,n=this._headerHeight;let s=!1;i-e-l<.9*(window.innerHeight-0)||window.innerHeight<e+l+n||i<window.innerHeight||this._isScrollable()&&(s=!0),this._sbar&&this.updateScrollBarVisibility(s,t.left)}updateScrollBarVisibility(t,e){const i=this._sbar;i.style.display=t?"block":"none",i.style.left=e+"px",i.scrollLeft=this._table.scrollLeft}_onTableScroll(){this._isScrollable()&&this._calcShadeStyle()}_calcShadeStyle(){const t=this._table,e=t.scrollLeft/(t.scrollWidth-t.clientWidth);e<.1?t.classList.remove("left-shade"):t.classList.add("left-shade"),.9<e?t.classList.remove("right-shade"):t.classList.add("right-shade")}}function n(){const t=document.createElement("div");t.style.bottom="100%",t.style.height="1px",t.style.position="absolute",t.style.width="calc(100vw - 100%)",document.body.appendChild(t);let e=0|window.getComputedStyle(t,"").getPropertyValue("width");if(0===e){t.style.overflowY="scroll",t.style.width="";const i=document.createElement("div");i.style.minHeight="100px",t.appendChild(i);const l=0|window.getComputedStyle(i,"").getPropertyValue("width");e=t.offsetWidth-l}return document.body.removeChild(t),e}t.tableScroll=function(t){e=parseInt(n());const s=[];for(let e=0;e<t.length;e+=1)s.push(new l(t[e]));window.addEventListener("scroll",i((()=>{for(let t=0;t<s.length;t+=1)s[t].onWindowScroll()})),{passive:!0}),window.addEventListener("resize",i((()=>{for(let t=0;t<s.length;t+=1)s[t].onWindowResize()})),{passive:!0})}}(),function(){const e="table-enlarged";let i;function l(t){let e;function i(){e=!1,t()}return()=>{e||(e=!0,requestAnimationFrame(i))}}class n{constructor(t){t.style.height&&(t.style.height=""),this._table=t,this._headerHeight=0,this._isEnlarged=!1,this._windowWidth=Math.min(window.outerWidth,window.innerWidth),this._create(),setTimeout((()=>{this._initialize()}),10)}_create(){this._head=this._createHeaderClone(),this._sbar=this._createScrollBarClone(),this._ebtn=this._table.dataset.stile&&-1!==this._table.dataset.stile.indexOf("no-enlarger")?null:this._createEnlargerButton(),this._shade=this._createShade();const t=this._table.getElementsByTagName("caption");this._capt=t.length?t[0]:null}_createHeaderClone(){let t=this._table.tHead;if(!t){if(t=this._createPseudoHeader(),!t)return null;this._table.tHead=t}const i=document.createElement("div");i.dataset.stile+=" fixed-table-header-container",this._table.parentNode.appendChild(i);const l=document.createElement("div");l.dataset.stile+=" fixed-table-header-table",i.appendChild(l);const n=t.cloneNode(!0);return l.appendChild(n),this._table.dataset.stile&&-1!==this._table.dataset.stile.indexOf(e)&&(i.dataset.stile+=" table-enlarged"),i}_createPseudoHeader(){const t=this._table.tBodies[0].rows;if(0===t.length)return null;function e(t){const e=t.getElementsByTagName("td"),i=t.getElementsByTagName("th");return 0===e.length&&i.length>0}const i=[];for(let l=0,n=t.length;l<n;l+=1){const n=t[l];if(!e(n))break;i.push(n)}if(0===i.length)return null;const l=this._table.createTHead();for(let t=0;t<i.length;t+=1)l.appendChild(i[t]);return l}_createScrollBarClone(){const t=document.createElement("div");t.dataset.stile+=" fixed-table-scroll-bar",this._table.parentNode.appendChild(t);const e=document.createElement("div");return t.appendChild(e),t}_createEnlargerButton(){const t=document.createElement("div");return t.dataset.stile="enlarger-button",this._table.appendChild(t),t}_createShade(){const t=document.createElement("div");return t.dataset.stile="table-shade",this._table.appendChild(t),t}_initialize(){const t=getComputedStyle(this._table).backgroundColor;t&&"transparent"!==t&&(this._table.dataset.background=t),this._initTableScroll(),this._ebtn&&(this._ebtn.addEventListener("click",(()=>{this._isEnlarged?this._turnOffEnlarged():this._turnOnEnlarged()})),this._isEnlargable()||(this._ebtn.style.display="none")),this._resize(),this._adjustUnexpectedScrollBar()}_initTableScroll(){let t=!1,e=!1;this._table.addEventListener("scroll",l((()=>{t?t=!1:(this._sbar.scrollLeft=this._table.scrollLeft,e=!0),this._onTableScroll()}))),this._sbar.addEventListener("scroll",l((()=>{e?e=!1:(this._table.scrollLeft=this._sbar.scrollLeft,t=!0)})))}_isScrollable(){const t=this._table;return t.scrollWidth-t.clientWidth>2}_isEnlargable(){const t=this._table,e=Math.min(window.outerWidth,window.innerWidth);return t.scrollWidth-t.offsetWidth>1&&t.offsetWidth<.9*e}_turnOnEnlarged(){const l=this._table;if(l.scrollWidth-l.offsetWidth<=1)return;l.scrollLeft=0,l.style.width="calc(100vw - "+i+"px)",t.addStile(l,e),this._head&&t.addStile(this._head,e),this._isEnlarged=!0;let n=l.getBoundingClientRect().left+window.pageXOffset;const s=l.tBodies[0].clientWidth,a=this._windowWidth-i;s<a&&(n-=(a-s)/2),l.style.marginLeft=-n+"px",l.style.background=null,this._resize()}_turnOffEnlarged(){const t=this._table;t.style.marginLeft="",t.style.width="",t.scrollLeft=0,t.dataset.stile=` ${t.dataset.stile} `.replace(" table-enlarged ","").trim(),this._head&&(this._head.dataset.stile=` ${this._head.dataset.stile} `.replace(" table-enlarged ","").trim()),this._isEnlarged=!1,this._shade.dataset.stile=` ${this._shade.dataset.stile} `.replace(" visible ","").trim(),this._shade.style.background=null,this._resize()}onWindowResize(){this._adjustUnexpectedScrollBar();const t=Math.min(window.outerWidth,window.innerWidth);this._windowWidth!==t&&(this._windowWidth=t,this._isEnlarged?this._turnOffEnlarged():this._resize())}_adjustUnexpectedScrollBar(){const t=this._table;t.style.overflowX=t.scrollWidth<t.clientWidth+2?"hidden":""}_resize(){this._head&&this._updateHeaderSize(this._head),this._sbar&&this._updateScrollBarSize(this._sbar),(this._head||this._sbar)&&this.onWindowScroll(),this._onTableScroll()}_updateHeaderSize(t){t.style.maxWidth=this._table.getBoundingClientRect().width+"px",t.style.display="none",t.style.top="0px";const e=this._table.tHead;let i=e.getBoundingClientRect().width;const l=t.firstChild;l.style.width=i+"px";const n=l.firstChild,s=e.rows,a=n.rows;for(let t=0;t<s.length;t+=1)o(s[t],a[t],"td"),o(s[t],a[t],"th");function o(t,e,i){const l=t.getElementsByTagName(i),n=e.getElementsByTagName(i);for(let t=0;t<l.length;t+=1)n[t].style.width=l[t].getBoundingClientRect().width+"px"}this._headerHeight=e.getBoundingClientRect().height}_updateScrollBarSize(t){t.style.maxWidth=this._table.clientWidth+"px",t.style.display="none";const e=parseInt(s());0<e&&(t.style.height=e+2+"px");const i=this._table.tBodies[0];t.firstChild.style.width=Math.ceil(i.clientWidth)+"px"}onWindowScroll(){const t=this._table.getBoundingClientRect(),e=t.top,i=t.bottom,l=this._capt?this._capt.offsetHeight:0,n=this._headerHeight,s=i-e-l<.9*(window.innerHeight-0);let a=!1;s||0<e+l||i-n<0||e+l<0&&(a=!0);let o=!1;s||window.innerHeight<e+l+n||i<window.innerHeight||this._isScrollable()&&(o=!0),this._head&&this.updateHeaderVisibility(a,t.left),this._sbar&&this.updateScrollBarVisibility(o,t.left)}updateHeaderVisibility(t,e){const i=this._head;t?(i.style.top="0px",i.style.display="block",this._ebtn&&i&&this.switchEnlargerToFloatingHeader()):(i.style.display="none",this._ebtn&&i&&this.switchEnlargerToTable()),i.style.left=e+"px",i.scrollLeft=this._table.scrollLeft}switchEnlargerToTable(){this._ebtn.parentNode.removeChild(this._ebtn),this._ebtn.style.top=this._capt?this._capt.offsetHeight+"px":0,this._table.appendChild(this._ebtn)}switchEnlargerToFloatingHeader(){this._ebtn.parentNode.removeChild(this._ebtn),this._ebtn.style.top=0,this._head.appendChild(this._ebtn)}updateScrollBarVisibility(t,e){const i=this._sbar;i.style.display=t?"block":"none",i.style.left=e+"px",i.scrollLeft=this._table.scrollLeft}_onTableScroll(){const t=this._table,e=this._head,i=this._capt,l=this._ebtn,n=this._shade,s=Math.max(0,Math.min(t.scrollLeft,t.scrollWidth-t.offsetWidth));e&&(e.scrollLeft=s),i&&(this._isScrollable()?(this._stCapt&&clearTimeout(this._stCapt),this._stCapt=setTimeout((()=>{i.style.transform=`translateX(${s}px)`}),200)):i.style.transform=null),l&&(l.dataset.stile=` ${l.dataset.stile} `.replace(" visible ","").trim(),this._stEbtn&&clearTimeout(this._stEbtn),this._stEbtn=setTimeout((()=>{l.dataset.stile=((l.dataset.stile??"")+" visible").trim()}),100),this._updateEnlager()),this._isEnlarged&&(n.dataset.stile=` ${n.dataset.stile} `.replace(" visible ","").trim(),this._isScrollable()&&this._isEnlarged&&(this._stShade&&clearTimeout(this._stShade),this._stShade=setTimeout((()=>{n.style.transform=`translateX(${s}px)`,n.dataset.stile=((n.dataset.stile??"")+" visible").trim()}),100))),this._updateShade()}_updateEnlager(){const t=this._table,e=this._capt,i=this._ebtn,l=t.scrollLeft,n=this._table.tBodies[0].clientWidth,s=t.clientWidth;if(this._isEnlargable()||this._isEnlarged){let a=-Math.min(n-s,l);if(!this._isEnlargable()&&this._isEnlarged){const t=i.parentElement.clientWidth-n;0<t&&(a=t)}i.parentNode===t&&(i.style.top=e?e.offsetHeight+"px":0),i.style.right=a+"px",i.style.display="block"}else i.style.display="none"}_updateShade(){const t=this._table,e=this._shade;if(this._isScrollable()){const i=this._calcShadeStyle();this._isEnlarged?e.style.background=i:t.style.background=i}else t.style.background=""}_calcShadeStyle(){const t=this._table,e=t.scrollLeft/(t.scrollWidth-t.clientWidth);let i=.25,l=.25;e<.1&&(i*=e/.1),.9<e&&(l*=(1-e)/.1);const n=this._capt?this._capt.offsetHeight+"px":"0",s=`linear-gradient(to left, rgba(0,0,0,0), rgba(0,0,0,${i}) 1.25rem) 0 ${n} / 1.25rem 100% no-repeat scroll`,a=`linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,${l}) 1.25rem) right ${n} / 1.25rem 100% no-repeat scroll`,o=this._table.dataset.background;return s+","+a+(this._isEnlarged||!o||"transparent"===o?"":`, linear-gradient(to bottom, ${o}, ${o}) 0px 0px / 100% 100% no-repeat`)}}function s(){const t=document.createElement("div");t.style.bottom="100%",t.style.height="1px",t.style.position="absolute",t.style.width="calc(100vw - 100%)",document.body.appendChild(t);let e=0|window.getComputedStyle(t,"").getPropertyValue("width");if(0===e){t.style.overflowY="scroll",t.style.width="";const i=document.createElement("div");i.style.minHeight="100px",t.appendChild(i);const l=0|window.getComputedStyle(i,"").getPropertyValue("width");e=t.offsetWidth-l}return document.body.removeChild(t),e}t.tableFixedHeader=function(t){i=parseInt(s());const e=[];for(let i=0;i<t.length;i+=1)e.push(new n(t[i]));window.addEventListener("scroll",l((()=>{for(let t=0;t<e.length;t+=1)e[t].onWindowScroll()})),{passive:!0}),window.addEventListener("resize",l((()=>{for(let t=0;t<e.length;t+=1)e[t].onWindowResize()})),{passive:!0})}}()}(window.NACSS);
//# sourceMappingURL=table.min.js.map
