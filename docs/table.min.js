window.NACSS=window.NACSS||{},function(t){!function(){function e(t,e){const n=document.createElement(e);return n.setAttribute("style","position:fixed;display:inline-block;visibility:hidden;white-space:nowrap;"),t.appendChild(n)}function n(t,e){t.removeChild(e.dcTd),t.removeChild(e.dcTh)}function o(t,e){if(0===t.rows.length)return!1;if(e.maxRowSize<t.rows.length)return!1;const{cellMinWidth:n,cellMinAspect:o}=e;for(const e of t.rows)if(e.hasChildNodes())for(const t of e.childNodes){const e=t.tagName;if("TD"!==e&&"TH"!==e)continue;if(1<parseInt(t.getAttribute("colSpan"),10))continue;if(1<parseInt(t.getAttribute("rowSpan"),10))continue;const l=t.clientWidth,i=t.clientHeight;if(l<n||l/i<o)return!0}return!1}function l(t,e){e.startsWith(":")?t.dataset[e.substr(1)]="":t.classList.add(e.substr(1))}function i(t,e){e.startsWith(":")?delete t.dataset[e.substr(1)]:t.classList.remove(e.substr(1))}function r(t,e){if(t.scrollWidth-t.clientWidth>2){const n=t.scrollLeft/(t.scrollWidth-t.clientWidth);(.95<n?i:l)(t,e.styleScrollRight),(n<.05?i:l)(t,e.styleScrollLeft)}else i(t,e.styleScrollRight),i(t,e.styleScrollLeft)}function s(t,e){t.removeAttribute("width"),t.style.width=null,t.style.height=null;const n=function(t){const e=function(t,e=[]){for(const n of t.rows){const t=[];if(n.hasChildNodes())for(const e of n.childNodes){const n=e.tagName;"TD"!==n&&"TH"!==n||t.push(e)}e.push(t)}return e}(t);let n=0;for(const t of e)n=Math.max(n,t.length);const o=[];for(const t of e)o.push(new Array(n));for(let t=0;t<o.length;t+=1){const l=o[t],i=e[t];let r=0;for(let e=0;e<n;e+=1){if("number"==typeof l[e]||null===l[e])continue;const n=i[r],s=parseInt(n.getAttribute("colSpan")??1,10),c=parseInt(n.getAttribute("rowSpan")??1,10);if(l[e]=n,1<s)for(let t=1;t<s;t+=1)l[e+t]=t;if(1<c)for(let n=1;n<c;n+=1){const l=o[t+n];for(let t=0;t<s;t+=1)l[e+t]=null}if(r+=1,i.length<=r)break}}return o}(t);!function(t,e){for(const n of t)for(let t=0;t<n.length;t+=1){const o=n[t],l=e[t];l&&o instanceof HTMLTableCellElement&&(o.style.whiteSpace=null,o.style.minWidth=l+"px",o.style.width=null)}}(n,function(t,e){for(const e of t)for(const t of e)"number"!=typeof t&&null!==t&&(t.style.whiteSpace="nowrap");const n=t[0].length,o=new Array(n).fill(0),l=new Array(n).fill(0);for(const i of t)for(let t=0;t<n;t+=1){const r=i[t];if(null==r||"number"==typeof r)continue;if(t<n-1&&"number"==typeof i[t+1])continue;if(1<parseInt(r.getAttribute("colSpan"),10))continue;if(1<parseInt(r.getAttribute("rowSpan"),10))continue;const s=c(r,e);o[t]=Math.max(o[t],s),s||(l[t]=Math.max(l[t],r.clientWidth))}return function(t,e,n){const{origTabW:o,origCellWs:l}=n;let i=0,r=0;for(let n=0;n<t.length;n+=1)t[n]?i+=t[n]:r+=e[n];if(o<i+r)return;let s=o-r;for(let e=0;e<t.length;e+=1){if(!t[e])continue;const n=t[e],o=Math.min(n/i*s,l[e]);s-=o-n,i-=o-n,t[e]=0|o}}(o,l,e),o}(n,Object.assign(function(t,e){const n=t.clientWidth,o=[];for(let t=0;t<e[0].length;t+=1)for(let n=0;n<e.length;n+=1){const l=e[n][t];if(l instanceof HTMLTableCellElement&&!l.getAttribute("colSpan")){o.push(l.clientWidth);break}}return{origTabW:n,origCellWs:o}}(t,n),e)));const o=t.getElementsByTagName("caption");o.length&&(o[0].innerHTML=`<span>${o[0].innerHTML}</span>`)}function c(t,e){const{padH:n,padV:o,charW:l,lineH:i,dcTd:r,dcTh:s,cellMinWidth:c,cellMinAspect:a,cellMinLength:d}=e;if(function(t){const e=t.innerHTML.trim(),n=e.split(/<\s*br\s*\/?>/iu).map((t=>t.replace(/<("[^"]*"|'[^']*'|[^'">])*>/g,"").length));return Math.max(...n)}(t)<d)return 0;t.innerHTML=t.innerHTML.trim();const f="TD"===t.tagName?r:s;f.innerHTML=t.innerHTML;const h=f.clientWidth-n,u=Math.round((f.clientHeight-o)/i);let p=0;for(let t=2;;t+=1){const e=0|h/t+l*t+n,r=u*(t*i)+o;if(e<c||e/r<a||p&&p<e)break;p=e}return p+l<f.clientWidth?p:0}t.tableNeatWidth=function(t,i={}){if(0===t.length)return;const c=t[t.length-1],a=Object.assign({fullWidthRate:.95,cellMinWidth:80,cellMinAspect:2/3,cellMinLength:8,maxRowSize:200,maxBorderWidth:2,before:null,after:null,styleNeat:":ncTableNeat",styleFull:":ncTableFull",styleScrollRight:":ncScrollRight",styleScrollLeft:":ncScrollLeft"},i,function(t){const e=t.getElementsByTagName("td")[0],n=getComputedStyle(e),o=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),l=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom),[i,r]=function(t){const e=document.createElement(t.nodeName);e.setAttribute("style",`position:fixed;margin:0;padding:0;font-family:${t.style.fontFamily||"inherit"};font-size:${t.style.fontSize||"inherit"};`),e.innerHTML="ã€€",t.parentNode.appendChild(e);const n=e.clientWidth,o=e.clientHeight;return e.parentNode.removeChild(e),[n,o]}(e);return{padH:o,padV:l,charW:i,lineH:r}}(c));a.padH+=2*a.maxBorderWidth,a.padV+=2*a.maxBorderWidth,a.dcTd=e(c,"td"),a.dcTh=e(c,"th");const d=[],f=[];for(const e of t)o(e,a)?d.push(e):f.push(e);a.gcCount=d.length;for(const t of d){const e=!!a.before&&(a.before(t)??0);h=()=>{s(t,a),l(t,a.styleNeat),a.after&&a.after(t),0==--a.gcCount&&n(c,a)},!1===(u=e)?h():setTimeout(h,u)}var h,u;if(a.fullWidthRate)for(const t of f){t.parentElement.clientWidth*a.fullWidthRate<t.clientWidth&&l(t,a.styleFull)}!function(t,e){const n=new ResizeObserver((t=>{for(const n of t)r(n.target,e)}));for(const l of t)n.observe(l),l.addEventListener("scroll",o((()=>{r(l,e)})));function o(t){let e;return()=>{e||(e=!0,requestAnimationFrame((()=>{e=!1,t()})))}}}(d,a)}}(),function(){const e="fixed-table-header-container",n="fixed-table-header-table",o="fixed-table-scroll-bar";function l(t){const l=function(t){let o=t.tHead;if(!o){if(o=function(t){const e=t.tBodies[0].rows;if(0===e.length)return null;function n(t){const e=t.getElementsByTagName("td"),n=t.getElementsByTagName("th");return 0===e.length&&n.length>0}const o=[];for(let t=0,l=e.length;t<l;t+=1){const l=e[t];if(!n(l))break;o.push(l)}if(0===o.length)return null;const l=t.createTHead();for(let t=0;t<o.length;t+=1)l.appendChild(o[t]);return l}(t),!o)return null;t.tHead=o}const l=document.createElement("div");l.dataset.stile+=" "+e,t.parentNode.appendChild(l);const i=document.createElement("div");i.dataset.stile+=" "+n,l.appendChild(i);const r=o.cloneNode(!0);return i.appendChild(r),l}(t),i=function(t){const e=document.createElement("div");e.dataset.stile+=" "+o;const n=document.createElement("div");return e.appendChild(n),t.parentNode.appendChild(e),e}(t);return{tab:t,head:l,bar:i}}function i(t,e,n){!function(t,e,n){let o=!1;const l=(n,l)=>c((()=>{o?o=!1:(o=!0,l.scrollLeft=n.scrollLeft,s(t,e))}));t.addEventListener("scroll",l(t,n)),n.addEventListener("scroll",l(n,t))}(t,e,n),new ResizeObserver((o=>{!function(t,e,n,o){e.style.overflowX=e.scrollWidth<e.clientWidth+2?"hidden":"",n&&function(t,e,n){const o=t?t.width:e.getBoundingClientRect().width;n.style.maxWidth=o+"px",n.style.display="none",n.style.top="0px";const l=e.tHead,i=l.getBoundingClientRect().width,r=n.firstChild;r.style.width=i+"px";const s=r.firstChild,c=l.rows,a=s.rows;for(let t=0;t<c.length;t+=1)d(c[t],a[t],"td"),d(c[t],a[t],"th");function d(t,e,n){const o=t.getElementsByTagName(n),l=e.getElementsByTagName(n);for(let t=0;t<o.length;t+=1)l[t].style.width=o[t].getBoundingClientRect().width+"px"}}(t,e,n);o&&function(t,e){e.style.maxWidth=`${t.clientWidth}px`,e.style.display="none";const n=parseInt(function(){const t=document.createElement("div");t.setAttribute("style","position:absolute;bottom:100%;width:calc(100vw - 100%);height:1px;"),document.body.appendChild(t);let e=0|window.getComputedStyle(t).getPropertyValue("width");if(0===e){t.style.overflowY="scroll",t.style.width="";const n=document.createElement("div");n.style.minHeight="100px",t.appendChild(n);const o=0|window.getComputedStyle(n).getPropertyValue("width");e=t.offsetWidth-o}return document.body.removeChild(t),e}());0<n&&(e.style.height=n+2+"px");e.firstChild.style.width=`${t.scrollWidth}px`}(e,o);(n||o)&&r(e,n,o);s(e,n)}(o[0].contentRect,t,e,n)})).observe(t)}function r(t,e,n){const o=t.getBoundingClientRect(),l=o.bottom,i=t.tHead.getBoundingClientRect(),r=i.top,s=i.bottom,c=t.tHead.offsetHeight,a=l-r<.9*(window.innerHeight-0);let d=!1;a||l-c<0||r<0&&(d=!0);let f=!1;a||window.innerHeight<s||l<window.innerHeight||t.scrollWidth-t.clientWidth>2&&(f=!0),e&&function(t,e,n,o){n?(e.style.top="0px",e.style.display="block"):e.style.display="none";e.style.left=o+"px",e.scrollLeft=t.scrollLeft}(t,e,d,o.left),n&&function(t,e,n,o){e.style.display=n?"block":"none",e.style.left=o+"px",e.scrollLeft=t.scrollLeft}(t,n,f,o.left)}function s(t,e){const n=Math.max(0,Math.min(t.scrollLeft,t.scrollWidth-t.offsetWidth));e&&(e.scrollLeft=n)}function c(t){let e;return(...n)=>{e||(e=!0,requestAnimationFrame((()=>{e=!1,t(...n)})))}}t.tableUsableView=function(t){const e=[];for(const n of t){const t=l(n);setTimeout((()=>{i(t.tab,t.head,t.bar)}),10),e.push(t)}window.addEventListener("scroll",c((()=>{for(const t of e)r(t.tab,t.head,t.bar)})),{passive:!0})}}()}(window.NACSS);
//# sourceMappingURL=table.min.js.map
