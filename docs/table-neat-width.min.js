window.NACSS=window.NACSS||{},function(e){function t(e,t){let n=e.tHead;if(!n){if(n=function(e){const t=e.tBodies[0].rows;if(0===t.length)return null;function n(e){const t=e.getElementsByTagName("td"),n=e.getElementsByTagName("th");return 0===t.length&&n.length>0}const l=[];for(const e of t){if(!n(e))break;l.push(e)}if(0===l.length)return null;const o=e.createTHead();for(const e of l)o.appendChild(e);return o}(e),!n)return null;e.tHead=n}const l=document.createElement("div");enableClass(!0,l,t.styleHeaderContainer),e.parentNode.appendChild(l);const o=document.createElement("div");return enableClass(!0,o,t.styleHeaderTable),l.appendChild(o),o.appendChild(n.cloneNode(!0)),l}function n(e,t){const n=document.createElement("div");enableClass(!0,n,t.styleScrollBar);const l=document.createElement("div");return n.appendChild(l),e.parentNode.appendChild(n),n}function l(e,t,n,l,i){t.style.overflowX=t.scrollWidth<t.clientWidth+2?"hidden":null,n&&function(e,t,n,l){const o=e?e.width:t.getBoundingClientRect().width;n.style.maxWidth=o+"px",n.style.display="none",n.style.top=l.offset+"px";const s=t.tHead,i=s.getBoundingClientRect().width,c=n.firstChild;c.style.width=i+"px";const d=s.rows,r=c.firstChild.rows;for(let e=0;e<d.length;e+=1)a(d[e],r[e],"td"),a(d[e],r[e],"th");function a(e,t,n){const l=e.getElementsByTagName(n),o=t.getElementsByTagName(n);for(let e=0;e<l.length;e+=1)o[e].style.width=l[e].getBoundingClientRect().width+"px"}}(e,t,n,i),l&&function(e,t){const n=e.scrollWidth<e.clientWidth+2;t.style.overflowX=n?"hidden":null,t.style.pointerEvents=n?"none":null,t.style.maxWidth=`${e.clientWidth}px`,t.style.display="none";const l=parseInt(function(e){const t=document.createElement("div");t.setAttribute("style","position:absolute;bottom:100%;width:calc(100vw - 100%);height:1px;"),e.appendChild(t);let n=0|window.getComputedStyle(t).getPropertyValue("width");if(0===n){t.style.overflowY="scroll",t.style.width="";const e=document.createElement("div");e.style.minHeight="100px",t.appendChild(e);const l=0|window.getComputedStyle(e).getPropertyValue("width");n=t.offsetWidth-l}return e.removeChild(t),n}(document.documentElement));0<l&&(t.style.height=l+2+"px");t.firstChild.style.width=`${e.scrollWidth}px`}(t,l),(n||l)&&o(t,n,l,i),n&&s(t,n,i)}function o(e,t,n,l){const o=e.getBoundingClientRect(),s=o.bottom,i=e.tHead.getBoundingClientRect(),c=i.top,d=i.bottom,r=l.offset,a=window.innerHeight,f=s-c<l.capableWindowHeightRate*(a-r),h=o.left,u=e.scrollLeft;if(t){const n=e.tHead.offsetHeight;!function(e,t,n,l){e.style.display=t?"block":"none",e.style.left=n+"px",e.scrollLeft=l}(t,!f&&c<r&&r<s-n,h,u)}if(n){!function(e,t,n,l){e.style.display=t?"block":"none",e.style.left=n+"px",e.scrollLeft=l}(n,!f&&d<a&&a<s,h,u)}}function s(e,t,n){const l=Math.max(0,Math.min(e.scrollLeft,e.scrollWidth-e.offsetWidth));if(t.scrollLeft=l,e.scrollWidth-e.clientWidth>2){const l=e.scrollLeft/(e.scrollWidth-e.clientWidth);enableClass(l<.95,t,n.styleScrollRight),enableClass(.05<l,t,n.styleScrollLeft)}else enableClass(!1,t,n.styleScrollRight),enableClass(!1,t,n.styleScrollLeft)}window.NACSS.tableNeatWidth=function(e,i={}){if(0===e.length)return;const c=Object.assign({capableWindowHeightRate:.9,styleHeaderContainer:":ncTableFixedHeaderContainer",styleHeaderTable:":ncTableFixedHeaderTable",styleScrollBar:":ncTableFixedScrollBar",styleFixedHeader:":ncFixedHeader",styleScrollRight:":ncScrollRight",styleScrollLeft:":ncScrollLeft",offset:0},i),d=[],r=[...e];for(const e of r){const l=t(e,c),o=n(e,c);d.push({tab:e,head:l,bar:o});let i=!1;const r=(t,n)=>throttle((()=>{i?i=!1:(i=!0,n.scrollLeft=t.scrollLeft,l&&s(e,l,c))}));e.addEventListener("scroll",r(e,o)),o.addEventListener("scroll",r(o,e))}const a=new ResizeObserver((e=>{for(const t of e){const e=r.indexOf(t.target),n=d[e];l(t.contentRect,n.tab,n.head,n.bar,c)}}));for(const e of r)a.observe(e);window.addEventListener("scroll",throttle((()=>{for(const e of d)o(e.tab,e.head,e.bar,c)})),{passive:!0});const f=(h=c.styleFixedHeader,h.startsWith(":")?`*[data-${h.substr(1).replace(/([A-Z])/g,(e=>"-"+e.charAt(0).toLowerCase()))}]`:`*${h}`);var h;if(f){const e=document.querySelector(f);if(e){new ResizeObserver((e=>{c.offset=e[0].contentRect.bottom;for(const e of d)l(null,e.tab,e.head,e.bar,c)})).observe(e)}}}}();
//# sourceMappingURL=table-neat-width.min.js.map
