/**
 *
 * Table Style (SCSS)
 *
 * @author Takuto Yanagida
 * @version 2020-12-28
 *
 * @import '../basic/base';
 * @import '../basic/query';
 * @import '../basic/font';
 *
 */


$stile-table-color-rule                  : rgba(#777, 0.35) !default;
$stile-table-color-rule-edge             : $stile-table-color-rule !default;
$stile-table-color-rule-vertical         : rgba($stile-table-color-rule, 0.1) !default;
$stile-table-color-header-text           : rgba(#000, 0.95) !default;
$stile-table-color-header-background     : rgba(#eee, 0.75) !default;  // Must have transparency for scroll shadow.
$stile-table-color-header-background-base: rgba(#fff, 0.75) !default;  // Must have transparency for scroll shadow.
$stile-table-color-scrollbar-thumb       : $stile-table-color-rule !default;
$stile-table-color-scrollbar-background  : $stile-table-color-header-background !default;
$stile-table-color-enlarger              : rgba($stile-table-color-rule, 0.5) !default;
$stile-table-color-enlarger-opened       : rgba($stile-table-color-rule, 0.25) !default;
$stile-table-color-background-enlarged   : #fff !default;
$stile-table-size-rule-edge              : 2px !default;
$stile-table-size-caption-max-width      : 36rem !default;
$stile-table-level-caption               : 1 !default;
$stile-table-align-caption               : center !default;


@mixin stile-table {
	table {
		position: relative;
		display : inline-block;
		margin  : { left : auto; right: auto; }

		max-width     : 100%;
		vertical-align: top;
		text-align    : $stile-table-align-caption;  // for Caption

		overflow-x: auto;
		overflow-y: auto;

		caption {
			position   : relative;  // for Scrolling
			will-change: transform;
			transition : transform 0.1s ease;

			display      : inline-block;
			// padding-left : base-vr(1);
			// padding-right: base-vr(1);  // for Avoiding overlapping with enlarger
			// max-width    : #{$stile-table-size-caption-max-width + 2 * base-vr(1.5)};
			text-align   : left;  // for left align of long caption
			// @include font-size-level($stile-table-level-caption);
		}
		> div[data-stile ~= 'table-shade'] {
			// @include layout-fill-self;
			pointer-events: none;
			opacity       : 0;
			&[data-stile ~= 'visible'] {
				opacity   : 1;
				transition: opacity 0.2s ease;
			}
		}
	}
	table:not([class]):not([data-stile ~= 'no-neat-wrap']) {
		td, th {
			white-space: nowrap;
		}
	}
}
